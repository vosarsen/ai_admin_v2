{
    "version": "1.0",
    "description": "Skill activation triggers for AI Admin v2. Controls when skills automatically suggest or block actions.",
    "skills": {
        "skill-developer": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Meta-skill for creating and managing Claude Code skills",
            "promptTriggers": {
                "keywords": [
                    "skill system",
                    "create skill",
                    "add skill",
                    "skill triggers",
                    "skill rules",
                    "hook system",
                    "skill development",
                    "skill-rules.json",
                    "система скиллов",
                    "создать скилл",
                    "добавить скилл",
                    "триггеры скиллов",
                    "правила скиллов",
                    "система хуков",
                    "разработка скиллов",
                    "скилл",
                    "хук"
                ],
                "intentPatterns": [
                    "(how do|how does|explain).*?skill",
                    "(create|add|modify|build).*?skill",
                    "skill.*?(work|trigger|activate|system)",
                    "(как|объясни).*?скилл",
                    "(создать|добавить|изменить).*?скилл",
                    "скилл.*?(работа(ет|ют)|триггер|актив)"
                ]
            }
        },
        "backend-dev-guidelines": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Backend development patterns for AI Admin v2 (Node.js/Express/TypeScript/BullMQ)",
            "promptTriggers": {
                "keywords": [
                    "backend",
                    "backend development",
                    "service",
                    "controller",
                    "route",
                    "routing",
                    "express",
                    "API",
                    "endpoint",
                    "middleware",
                    "validation",
                    "queue",
                    "BullMQ",
                    "worker",
                    "WhatsApp",
                    "YClients",
                    "booking",
                    "AI admin",
                    "context service",
                    "integration",
                    "бэкенд",
                    "бекенд",
                    "backend разработка",
                    "сервис",
                    "контроллер",
                    "маршрут",
                    "роут",
                    "маршрутизация",
                    "эндпоинт",
                    "точка входа",
                    "мидлвар",
                    "промежуточное ПО",
                    "валидация",
                    "проверка",
                    "очередь",
                    "воркер",
                    "обработчик",
                    "ватсап",
                    "вацап",
                    "бронирование",
                    "запись",
                    "интеграция"
                ],
                "intentPatterns": [
                    "(create|add|implement|build).*?(route|endpoint|API|controller|service|integration)",
                    "(fix|handle|debug).*?(error|exception|backend|queue)",
                    "(add|implement).*?(middleware|validation|error.*?handling)",
                    "(organize|structure|refactor).*?(backend|service|API)",
                    "(how to|best practice).*?(backend|route|controller|service|queue|worker)",
                    "(создать|добавить|реализовать|сделать).*?(маршрут|роут|эндпоинт|контроллер|сервис|интеграц)",
                    "(исправить|обработать|дебаг|отладить).*?(ошибк|исключение|бэкенд|бекенд|очередь)",
                    "(добавить|реализовать).*?(мидлвар|валидац|обработк.*?ошибок)",
                    "(организовать|структурир|рефактор).*?(бэкенд|бекенд|сервис|API)",
                    "(как|лучшая практика).*?(бэкенд|бекенд|маршрут|контроллер|сервис|очередь|воркер)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "src/**/*.ts",
                    "src/**/*.js",
                    "src/services/**/*",
                    "src/api/**/*",
                    "src/queue/**/*",
                    "src/workers/**/*",
                    "src/integrations/**/*",
                    "src/middlewares/**/*",
                    "src/sync/**/*"
                ],
                "pathExclusions": [
                    "**/*.test.ts",
                    "**/*.test.js",
                    "**/*.spec.ts",
                    "**/*.spec.js",
                    "node_modules/**",
                    "dist/**",
                    "build/**"
                ],
                "contentPatterns": [
                    "router\\.",
                    "app\\.(get|post|put|delete|patch)",
                    "export.*Service",
                    "queue\\.",
                    "Bull\\.",
                    "baileys",
                    "yclients"
                ]
            }
        },
        "route-tester": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Testing API routes and endpoints in AI Admin v2",
            "promptTriggers": {
                "keywords": [
                    "test route",
                    "test endpoint",
                    "test API",
                    "route testing",
                    "API testing",
                    "test booking",
                    "test WhatsApp",
                    "test message",
                    "integration test",
                    "тест маршрут",
                    "тест роут",
                    "тест эндпоинт",
                    "тестирование маршрута",
                    "тестирование роута",
                    "тестирование API",
                    "проверить маршрут",
                    "проверить роут",
                    "тест бронирование",
                    "тест запись",
                    "тест ватсап",
                    "тест сообщение",
                    "интеграционный тест",
                    "тест интеграции"
                ],
                "intentPatterns": [
                    "(test|debug|verify).*?(route|endpoint|API)",
                    "(how to|how do I).*?test.*?(route|endpoint|API)",
                    "test.*?(booking|whatsapp|message|sync)",
                    "(тест|тестировать|проверить|отладить).*?(маршрут|роут|эндпоинт|API)",
                    "(как|как мне).*?тест.*?(маршрут|роут|эндпоинт|API)",
                    "тест.*?(бронирование|запись|ватсап|сообщение|синхронизац)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "src/api/**/*.ts",
                    "src/api/**/*.js",
                    "**/__tests__/**/*",
                    "**/test-*.js",
                    "**/test-*.ts",
                    "src/__tests__/**/*"
                ],
                "contentPatterns": [
                    "router\\.(get|post|put|delete|patch)",
                    "app\\.(get|post|put|delete|patch)"
                ]
            }
        },
        "error-tracking": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "Error handling and monitoring patterns for AI Admin v2",
            "promptTriggers": {
                "keywords": [
                    "error handling",
                    "exception",
                    "error tracking",
                    "monitoring",
                    "logging",
                    "debug",
                    "crash",
                    "failure",
                    "telegram alert",
                    "notification",
                    "обработка ошибок",
                    "ошибка",
                    "ошибки",
                    "исключение",
                    "отслеживание ошибок",
                    "мониторинг",
                    "логирование",
                    "логи",
                    "отладка",
                    "дебаг",
                    "сбой",
                    "крэш",
                    "падение",
                    "упал",
                    "не работает",
                    "алерт",
                    "оповещение",
                    "уведомление",
                    "телеграм алерт",
                    "telegram оповещение"
                ],
                "intentPatterns": [
                    "(add|create|implement|setup).*?(error handling|error tracking|monitoring)",
                    "(fix|handle|catch).*?(error|exception|crash)",
                    "(how to|best practice).*?(error|monitoring|logging)",
                    "(добавить|создать|реализовать|настроить).*?(обработк.*?ошибок|отслеживание.*?ошибок|мониторинг)",
                    "(исправить|обработать|поймать|отловить).*?(ошибк|исключение|сбой|крэш|падение)",
                    "(как|лучшая практика).*?(ошибк|мониторинг|логирование|лог)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "src/**/*Service.ts",
                    "src/**/*Service.js",
                    "src/monitoring/**/*",
                    "src/services/**/*",
                    "src/queue/**/*",
                    "src/workers/**/*"
                ],
                "contentPatterns": [
                    "try.*catch",
                    "throw new",
                    "\\.catch\\(",
                    "error:",
                    "logger\\.",
                    "console\\.error"
                ]
            }
        }
    },
    "notes": {
        "project": "AI Admin v2 - WhatsApp booking assistant for beauty salons",
        "enforcement_types": {
            "suggest": "Skill suggestion appears but doesn't block execution",
            "block": "Requires skill to be used before proceeding (guardrail)",
            "warn": "Shows warning but allows proceeding"
        },
        "priority_levels": {
            "critical": "Highest - Always trigger when matched",
            "high": "Important - Trigger for most matches",
            "medium": "Moderate - Trigger for clear matches",
            "low": "Optional - Trigger only for explicit matches"
        },
        "customization": {
            "pathPatterns": "Configured for single backend application structure (src/services/, src/api/, src/queue/)",
            "keywords": "Include AI Admin v2 specific terms (WhatsApp, YClients, booking, BullMQ) + Russian translations for all keywords",
            "intentPatterns": "Use regex for flexible user intent matching. Support both English and Russian prompts."
        }
    }
}
