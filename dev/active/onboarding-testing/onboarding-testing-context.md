# –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å:** üü° –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥ —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π)

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ü–æ–ª–Ω—ã–π —Ñ–ª–æ—É –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ YClients –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ WhatsApp (QR –∏ Pairing Code)
- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- AI –æ–±—Ä–∞–±–æ—Ç–∫–∞ (Gemini, ~10 —Å–µ–∫)
- –ü–æ–∏—Å–∫ —Å–ª–æ—Ç–æ–≤ –≤ YClients

### –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:
- **–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞–º** - 400 –æ—à–∏–±–∫–∞ –∏–∑-–∑–∞ LID —Ñ–æ—Ä–º–∞—Ç–∞

---

## –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –§–æ—Ä–º–∞—Ç company_id
–í—ã—è–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ - –≤ —Å–∏—Å—Ç–µ–º–µ –¥–≤–∞ —Ñ–æ—Ä–º–∞—Ç–∞:
- `962302` (baileys-service)
- `company_962302` (onboarding)

**TODO:** –ù—É–∂–Ω–æ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å. –†–µ–∫–æ–º–µ–Ω–¥—É—é `962302` (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞).

### 2. LID vs –æ–±—ã—á–Ω—ã–µ –Ω–æ–º–µ—Ä–∞
WhatsApp –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤:
- –û–±—ã—á–Ω—ã–µ –Ω–æ–º–µ—Ä–∞: `79686484488@c.us` –∏–ª–∏ `@s.whatsapp.net`
- LID (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ ID): `152926689472618@lid`

LID –Ω–æ–º–µ—Ä–∞ >= 15 —Ü–∏—Ñ—Ä. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å.

### 3. WebSocket –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `whatsapp-connected`.
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç —á—Ç–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ.

---

## –ë–ª–æ–∫–µ—Ä—ã –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô: LID –æ—Ç–ø—Ä–∞–≤–∫–∞
```
Error: Failed to send message 1: Request failed with status code 400
```

–ù–æ–º–µ—Ä `152926689472618` —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `@c.us` –≤–º–µ—Å—Ç–æ `@lid`.

**–§–∞–π–ª:** `src/integrations/whatsapp/client.js`
**–§—É–Ω–∫—Ü–∏—è:** `_formatPhone()`

### –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
–§–∏–∫—Å –¥–æ–±–∞–≤–ª–µ–Ω, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ù—É–∂–Ω–æ:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–¥ –æ–±–Ω–æ–≤–∏–ª—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –î–æ–±–∞–≤–∏—Ç—å debug –ª–æ–≥–∏
3. –í–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ –≤ `_extractPhoneNumber()` –∫–æ—Ç–æ—Ä—ã–π —É–¥–∞–ª—è–µ—Ç —Å—É—Ñ—Ñ–∏–∫—Å—ã

---

## –°–ª–µ–¥—É—é—â–∞—è —Å–µ—Å—Å–∏—è

1. –î–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—á–µ–º—É LID —Ñ–∏–∫—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–º–µ—Ä–æ–≤
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
4. –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å company_id —Ñ–æ—Ä–º–∞—Ç
