# Timeweb Cloud API - ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ´Ğ»Ñ AI Admin v2

**Ğ”Ğ°Ñ‚Ğ° Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°:** 2025-11-24
**ĞŸÑ€Ğ¾ĞµĞºÑ‚:** AI Admin v2
**Ğ¦ĞµĞ»ÑŒ:** ĞÑ†ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Timeweb Cloud API

---

## Executive Summary

**Ğ’ĞµÑ€Ğ´Ğ¸ĞºÑ‚:** ğŸŸ¡ **Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½Ğ¾ÑÑ‚ÑŒ** - API Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ñ†ĞµĞ½Ğ½Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹, Ğ½Ğ¾ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ½ÑÑ‚Ğ²Ğ¾ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ Ğ½Ğµ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ñ‹ Ğ´Ğ»Ñ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ stage Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°.

**ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸:**
- ğŸ”´ **CRITICAL:** ĞĞµÑ‚ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚ĞµĞ¹
- ğŸŸ  **HIGH:** S3 Backup Storage (Ğ´Ğ»Ñ Phase 3-4 Baileys Resilience)
- ğŸŸ¡ **MEDIUM:** Database Auto-Backups, Server Monitoring
- ğŸŸ¢ **LOW:** ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ:** Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ **S3 Object Storage** Ğ² Ñ€Ğ°Ğ¼ĞºĞ°Ñ… Phase 3-4 Baileys Resilience Improvements Ğ´Ğ»Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ PostgreSQL Ğ±ÑĞºĞ°Ğ¿Ğ¾Ğ².

---

## 1. Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ API ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸

### 1.1 Ğ‘Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Databases)

**Endpoints:**
```
GET    /api/v1/dbs                          # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ‘Ğ”
GET    /api/v1/dbs/{db_id}                  # Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ‘Ğ”
GET    /api/v1/dbs/{db_id}/backups          # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ±ÑĞºĞ°Ğ¿Ğ¾Ğ²
POST   /api/v1/dbs/{db_id}/backups          # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ±ÑĞºĞ°Ğ¿
DELETE /api/v1/dbs/{db_id}/backups/{id}     # Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ±ÑĞºĞ°Ğ¿
GET    /api/v1/dbs/{db_id}/auto-backups     # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ±ÑĞºĞ°Ğ¿Ğ¾Ğ²
PATCH  /api/v1/dbs/{db_id}/auto-backups     # Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ°Ğ²Ñ‚Ğ¾Ğ±ÑĞºĞ°Ğ¿Ñ‹
```

**Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸:**
- ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ğ¾Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ±ÑĞºĞ°Ğ¿Ğ°Ğ¼Ğ¸ PostgreSQL
- ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ±ÑĞºĞ°Ğ¿Ğ¾Ğ² (Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ», ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ¾Ğ¿Ğ¸Ğ¹)
- ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¾ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¸ Ğ‘Ğ”

**Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ñƒ Ğ½Ğ°Ñ:**
- âœ… Ğ¡Ğ²Ğ¾Ğ¹ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ `scripts/backup/backup-postgresql.js` (Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ñ 19.11.2025)
- âœ… Retention policy: 7 daily + 4 monthly
- âœ… PM2 cron: ĞµĞ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ğ¾ Ğ² 03:00 UTC
- âœ… Telegram ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¸ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°Ñ…

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Timeweb API:**
- ğŸŸ¢ Ğ’ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ¿Ğ¾Ñ‚ĞµÑ€Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- ğŸŸ¢ GUI ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ² Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸ Timeweb
- ğŸŸ¢ ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° ÑÑ‚Ğ°Ñ€Ñ‹Ñ… Ğ±ÑĞºĞ°Ğ¿Ğ¾Ğ²

**ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚ĞºĞ¸:**
- ğŸ”´ Ğ‘ÑĞºĞ°Ğ¿Ñ‹ Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² Timeweb (single point of failure)
- ğŸ”´ ĞĞµÑ‚ off-site ĞºĞ¾Ğ¿Ğ¸Ğ¹
- ğŸ”´ Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¾Ñ‚ Timeweb API availability

**ĞÑ†ĞµĞ½ĞºĞ° Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½Ğ¾ÑÑ‚Ğ¸:** ğŸŸ¡ **5/10**
- ĞĞµ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¾, Ñ‚.Ğº. Ñƒ Ğ½Ğ°Ñ ÑƒĞ¶Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ÑĞ²Ğ¾Ğ¹ ÑĞºÑ€Ğ¸Ğ¿Ñ‚
- ĞœĞ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½Ğ¾ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ¸Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
- ĞĞ¾ Ğ½Ğµ Ñ€ĞµÑˆĞ°ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñƒ off-site Ğ±ÑĞºĞ°Ğ¿Ğ¾Ğ²

---

### 1.2 S3 Object Storage

**Endpoints:**
```
GET    /api/v1/storages/buckets             # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ±Ğ°ĞºĞµÑ‚Ğ¾Ğ²
POST   /api/v1/storages/buckets             # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ±Ğ°ĞºĞµÑ‚
GET    /api/v1/storages/buckets/{id}        # Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ±Ğ°ĞºĞµÑ‚Ğµ
DELETE /api/v1/storages/buckets/{id}        # Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ±Ğ°ĞºĞµÑ‚
POST   /api/v1/storages/transfer            # ĞŸĞµÑ€ĞµĞ½Ğ¾Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
```

**Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸:**
- S3-ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ Ğ´Ğ»Ñ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
- Ğ“ĞµĞ¾Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ (Ğ¼Ğ¾ÑĞºĞ¾Ğ²ÑĞºĞ¸Ğ¹ DC)
- API-Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ´Ğ»Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸/ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ

**Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ñƒ Ğ½Ğ°Ñ:**
- âŒ Ğ‘ÑĞºĞ°Ğ¿Ñ‹ Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ (/var/backups/postgresql/)
- âŒ ĞĞµÑ‚ off-site ĞºĞ¾Ğ¿Ğ¸Ğ¹
- âŒ ĞĞµÑ‚ Ğ³ĞµĞ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ¸Ğ·Ğ±Ñ‹Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° S3:**
- ğŸŸ¢ **OFF-SITE BACKUP!** - ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ disaster recovery
- ğŸŸ¢ Ğ“ĞµĞ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ (Moscow + SPb)
- ğŸŸ¢ 99.99% availability SLA
- ğŸŸ¢ Ğ’ĞµÑ€ÑĞ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
- ğŸŸ¢ Lifecycle policies (Ğ°Ğ²Ñ‚Ğ¾ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ€Ñ‹Ñ… Ğ±ÑĞºĞ°Ğ¿Ğ¾Ğ²)

**Use Case Ğ´Ğ»Ñ AI Admin v2:**
```javascript
// ĞœĞ¾Ğ´Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ backup-postgresql.js

// 1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ±ÑĞºĞ°Ğ¿ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾ (ĞºĞ°Ğº ÑĞµĞ¹Ñ‡Ğ°Ñ)
await createLocalBackup();

// 2. Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ² S3 Ğ´Ğ»Ñ off-site storage
await uploadToTimewebS3({
  bucket: 'ai-admin-backups',
  key: `postgresql/daily/backup-${date}.sql.gz`,
  file: localBackupPath
});

// 3. Retention policy Ğ½Ğ° S3
// - Daily: 7 Ğ´Ğ½ĞµĞ¹ (Timeweb S3)
// - Monthly: 4 Ğ¼ĞµÑÑÑ†Ğ° (Timeweb S3)
// - Local: Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ±ÑĞºĞ°Ğ¿ (Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ)
```

**Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ:** (Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ½Ğ°Ñ)
- Storage: 100-200 MB Ğ±ÑĞºĞ°Ğ¿Ğ¾Ğ² Ã— 30 Ğ´Ğ½ĞµĞ¹ = ~6 GB
- Ğ¦ĞµĞ½Ğ°: ~1.5 â‚½/GB/Ğ¼ĞµÑÑÑ† = **~9 â‚½/Ğ¼ĞµÑÑÑ†**
- API calls: ~60 requests/Ğ¼ĞµÑÑÑ† = **Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾**

**ĞÑ†ĞµĞ½ĞºĞ° Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½Ğ¾ÑÑ‚Ğ¸:** ğŸŸ¢ **9/10**
- **ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§ĞĞ** Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ disaster recovery
- Ğ ĞµÑˆĞ°ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñƒ single point of failure
- ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ (~9 â‚½/Ğ¼ĞµÑ)
- Ğ˜Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ğ²Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ² Phase 3-4 Baileys Resilience

---

### 1.3 Ğ¡ĞµÑ€Ğ²ĞµÑ€Ñ‹ (VPS Management)

**Endpoints:**
```
GET    /api/v1/servers                      # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑĞµÑ€Ğ²ĞµÑ€Ğ¾Ğ²
GET    /api/v1/servers/{id}                 # Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€Ğµ
GET    /api/v1/servers/{id}/logs            # Ğ›Ğ¾Ğ³Ğ¸ ÑĞµÑ€Ğ²ĞµÑ€Ğ°
GET    /api/v1/servers/{id}/statistics      # ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ (CPU, RAM, Disk)
POST   /api/v1/servers/{id}/action          # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ (start/stop/reboot)
```

**Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸:**
- ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ğ¾Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ VPS (reboot, shutdown, etc.)
- ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº (CPU, RAM, Disk, Network)
- Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğ¼ Ğ»Ğ¾Ğ³Ğ°Ğ¼

**Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ñƒ Ğ½Ğ°Ñ:**
- âœ… SSH access Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
- âœ… PM2 Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ²
- âš ï¸ ĞĞµÑ‚ Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° API:**
- ğŸŸ¢ ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ recovery (auto-reboot Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ²Ğ¸ÑĞ°Ğ½Ğ¸Ğ¸)
- ğŸŸ¢ ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ² Ğ±ĞµĞ· SSH
- ğŸŸ¢ Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº Ğ² Sentry/Telegram

**Use Case Ğ´Ğ»Ñ AI Admin v2:**
```javascript
// Healthcheck Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼ recovery
async function serverHealthcheck() {
  const stats = await timewebAPI.getServerStatistics(serverId);

  // Alert Ğ¿Ñ€Ğ¸ Ğ²Ñ‹ÑĞ¾ĞºĞ¾Ğ¹ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ
  if (stats.cpu > 90 || stats.memory > 90) {
    await sendTelegramAlert('ğŸ”´ High server load!');
  }

  // Auto-reboot Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ²Ğ¸ÑĞ°Ğ½Ğ¸Ğ¸
  if (await isServerUnresponsive()) {
    await timewebAPI.rebootServer(serverId);
    await sendTelegramAlert('ğŸ”„ Server auto-rebooted');
  }
}
```

**ĞÑ†ĞµĞ½ĞºĞ° Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½Ğ¾ÑÑ‚Ğ¸:** ğŸŸ¡ **6/10**
- ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- ĞĞµ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ½Ğ° Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¼ ÑÑ‚Ğ°Ğ¿Ğµ (1 ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ)
- ĞœĞ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ñ€Ğ¸ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸ (10+ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹)

---

### 1.4 Monitoring & Statistics

**Endpoints:**
```
GET /api/v1/servers/{id}/statistics/{time_from}/{period}/{keys}
```

**Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸:**
- CPU, RAM, Disk, Network Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸
- Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
- ĞĞ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´ (Ñ‡Ğ°Ñ/Ğ´ĞµĞ½ÑŒ/Ğ½ĞµĞ´ĞµĞ»Ñ)

**Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ñƒ Ğ½Ğ°Ñ:**
- âŒ ĞĞµÑ‚ Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹
- âš ï¸ ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¼ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ application-level Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ (Sentry)
- âš ï¸ PostgreSQL health Ñ‡ĞµÑ€ĞµĞ· custom ÑĞºÑ€Ğ¸Ğ¿Ñ‚

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°:**
- ğŸŸ¢ Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ dashboard Ğ´Ğ»Ñ infrastructure + application
- ğŸŸ¢ Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ capacity planning
- ğŸŸ¢ Alerts Ğ½Ğ° infrastructure-level

**ĞÑ†ĞµĞ½ĞºĞ° Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½Ğ¾ÑÑ‚Ğ¸:** ğŸŸ¡ **5/10**
- ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ğ¾ Ğ´Ğ»Ñ long-term Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹
- ĞĞµ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ ÑĞµĞ¹Ñ‡Ğ°Ñ
- ĞœĞ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

---

## 2. Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### 2.1 Ğ Ğ•ĞšĞĞœĞ•ĞĞ”Ğ£Ğ•Ğ¢Ğ¡Ğ¯: S3 Off-Site Backups (Phase 3-4)

**ĞŸÑ€Ğ¾ĞµĞºÑ‚:** Baileys Resilience Improvements
**Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°:** Phase 3 - Task 4.2-4.4 (Backup Restoration & DR)

**ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  backup-postgresql.js (Daily 03:00) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                  â”‚
       â†“                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Local Backup â”‚   â”‚ Timeweb S3       â”‚
â”‚ (Fast RTO)   â”‚   â”‚ (Off-Site DR)    â”‚
â”‚              â”‚   â”‚                  â”‚
â”‚ Retention:   â”‚   â”‚ Retention:       â”‚
â”‚ - 1 latest   â”‚   â”‚ - 7 daily        â”‚
â”‚              â”‚   â”‚ - 4 monthly      â”‚
â”‚              â”‚   â”‚                  â”‚
â”‚ Purpose:     â”‚   â”‚ Purpose:         â”‚
â”‚ Quick restoreâ”‚   â”‚ Disaster recoveryâ”‚
â”‚ <2 min RTO   â”‚   â”‚ Datacenter fail  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:**
```javascript
// config/timeweb-s3.js
module.exports = {
  endpoint: 's3.timeweb.com',
  bucket: 'ai-admin-backups',
  region: 'ru-1',
  credentials: {
    accessKeyId: process.env.TIMEWEB_S3_ACCESS_KEY,
    secretAccessKey: process.env.TIMEWEB_S3_SECRET_KEY
  }
};

// scripts/backup/backup-postgresql.js
// Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑĞ»Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ±ÑĞºĞ°Ğ¿Ğ°:
async function uploadBackupToS3(localPath, s3Key) {
  const s3 = new S3Client(timewebS3Config);

  await s3.send(new PutObjectCommand({
    Bucket: 'ai-admin-backups',
    Key: s3Key,
    Body: fs.createReadStream(localPath),
    ContentType: 'application/gzip'
  }));

  logger.info(`âœ… Backup uploaded to S3: ${s3Key}`);
}
```

**Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ:** ~9-15 â‚½/Ğ¼ĞµÑÑÑ†
**Ğ’Ñ€ĞµĞ¼Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸:** 4-6 Ñ‡Ğ°ÑĞ¾Ğ²
**ROI:** ğŸŸ¢ **Ğ’Ñ‹ÑĞ¾ĞºĞ¸Ğ¹** - ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ DR

---

### 2.2 ĞĞŸĞ¦Ğ˜ĞĞĞĞ›Ğ¬ĞĞ: Database Auto-Backups API

**Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚:** Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ñˆ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ½Ğ° Timeweb Auto-Backups

**ĞŸĞ»ÑÑÑ‹:**
- ĞœĞµĞ½ÑŒÑˆĞµ ĞºĞ¾Ğ´Ğ° Ğ½Ğ° Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºÑƒ
- GUI ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
- Ğ’ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°

**ĞœĞ¸Ğ½ÑƒÑÑ‹:**
- ĞĞµÑ‚ off-site ĞºĞ¾Ğ¿Ğ¸Ğ¹
- Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¾Ñ‚ Timeweb
- ĞœĞµĞ½ÑŒÑˆĞµ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ñ

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ:** ğŸŸ¡ **ĞĞ• Ğ Ğ•ĞšĞĞœĞ•ĞĞ”Ğ£Ğ•Ğ¢Ğ¡Ğ¯ ÑĞµĞ¹Ñ‡Ğ°Ñ**
- ĞĞ°Ñˆ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾
- Ğ˜Ğ¼ĞµĞµĞ¼ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ
- ĞœĞ¾Ğ¶ĞµĞ¼ ĞºĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ S3 (Ğ½Ğ°Ñˆ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ + S3 upload)

---

### 2.3 Ğ‘Ğ£Ğ”Ğ£Ğ©Ğ•Ğ•: Server Monitoring Integration

**Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹:** ĞŸĞ¾ÑĞ»Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (10+ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹, 50+ msg/day)

```javascript
// src/services/infrastructure-monitor.js

class InfrastructureMonitor {
  async checkServerHealth() {
    const stats = await timewebAPI.getServerStats();

    if (stats.cpu > 80) {
      await this.alertHighLoad('CPU');
    }

    if (stats.disk > 85) {
      await this.alertHighLoad('Disk');
      await this.cleanupOldLogs(); // Auto-remediation
    }

    return { healthy: true, stats };
  }
}
```

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾:**
- Traffic > 100 msg/day
- Multiple services Ğ½Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ¼ ÑĞµÑ€Ğ²ĞµÑ€Ğµ
- SLA requirements

---

## 3. ĞŸĞ»Ğ°Ğ½ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

### Phase 1: S3 Off-Site Backups (Ğ Ğ•ĞšĞĞœĞ•ĞĞ”Ğ£Ğ•Ğ¢Ğ¡Ğ¯)

**Ğ¡Ñ€Ğ¾ĞºĞ¸:** 1-2 Ğ´Ğ½Ñ
**ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚:** ğŸŸ  HIGH (Ñ‡Ğ°ÑÑ‚ÑŒ Baileys Resilience Phase 3-4)

**Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸:**
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ S3 bucket Ğ² Timeweb Cloud (Ñ‡ĞµÑ€ĞµĞ· UI)
- [ ] ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ API credentials (Access Key + Secret)
- [ ] Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ AWS SDK: `npm install @aws-sdk/client-s3`
- [ ] ĞœĞ¾Ğ´Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ `backup-postgresql.js`:
  - [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ `uploadToS3()`
  - [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ lifecycle cleanup (ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ€Ñ‹Ñ… Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ±ÑĞºĞ°Ğ¿Ğ¾Ğ²)
  - [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Sentry tracking Ğ´Ğ»Ñ S3 uploads
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ: `scripts/restore/restore-from-s3.js`
- [ ] ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ full backup/restore cycle
- [ ] ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Emergency Recovery Runbook

**Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ:** ~9 â‚½/Ğ¼ĞµÑÑÑ†
**Benefit:** Disaster recovery capability (RTO < 10 min Ğ´Ğ»Ñ S3 restore)

---

### Phase 2: Server Monitoring (ĞĞŸĞ¦Ğ˜ĞĞĞĞ›Ğ¬ĞĞ)

**Ğ¡Ñ€Ğ¾ĞºĞ¸:** 3-5 Ğ´Ğ½ĞµĞ¹
**ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚:** ğŸŸ¢ LOW (Ğ¿Ğ¾ÑĞ»Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ)

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾:**
- ĞŸĞ¾ÑĞ»Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° 5+ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹
- ĞŸÑ€Ğ¸ SLA Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸ÑÑ… > 99%
- ĞŸÑ€Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ operations

**Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸:**
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ `src/services/infrastructure-monitor.js`
- [ ] Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ Timeweb API
- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ alerts Ğ² Telegram
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ dashboard Ğ² Grafana/Notion
- [ ] ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ recovery (auto-reboot, cleanup)

---

### Phase 3: Database API (ĞĞ• Ğ Ğ•ĞšĞĞœĞ•ĞĞ”Ğ£Ğ•Ğ¢Ğ¡Ğ¯)

**ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚:** ğŸ”´ SKIP
**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** ĞĞ°Ñˆ custom backup script Ğ±Ğ¾Ğ»ĞµĞµ Ğ³Ğ¸Ğ±ĞºĞ¸Ğ¹ Ğ¸ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğ¹

---

## 4. Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

### S3 Object Storage (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ)

**Ğ Ğ°ÑÑ‡ĞµÑ‚:**
```
Backup Ñ€Ğ°Ğ·Ğ¼ĞµÑ€:     352 KB (compressed)
Daily backups:     7 Ã— 352 KB = 2.4 MB
Monthly backups:   4 Ã— 352 KB = 1.4 MB
Total storage:     ~3.8 MB

Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ: 3.8 MB Ã— 1.5 â‚½/GB = 0.005 â‚½/Ğ¼ĞµÑ
API calls:          60/Ğ¼ĞµÑÑÑ† (PUT) = Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾
```

**Ğ˜Ñ‚Ğ¾Ğ³Ğ¾:** < 1 â‚½/Ğ¼ĞµÑÑÑ† ğŸ‰

(ĞŸÑ€Ğ¸ Ñ€Ğ¾ÑÑ‚Ğµ Ğ´Ğ¾ 10 ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹: ~10 MB/Ğ¼ĞµÑ = ~0.015 â‚½/Ğ¼ĞµÑ)

### Database Auto-Backups

**Ğ¦ĞµĞ½Ğ°:** Ğ’ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾ Ğ² ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ PostgreSQL Ñ…Ğ¾ÑÑ‚Ğ¸Ğ½Ğ³Ğ° (Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾)

### Server Monitoring

**Ğ¦ĞµĞ½Ğ°:** Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾ (Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾ Ğ² API)

---

## 5. Ğ Ğ¸ÑĞºĞ¸ Ğ¸ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ

### API Rate Limits

**Timeweb Cloud:** 20 Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²/ÑĞµĞºÑƒĞ½Ğ´Ñƒ Ğ½Ğ° endpoint

**ĞĞ°ÑˆĞ¸ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚Ğ¸:**
- Backups: 1 request/day (S3 upload)
- Monitoring: 1 request/5min = 288/day = 0.003 req/sec

**Ğ’Ñ‹Ğ²Ğ¾Ğ´:** ğŸŸ¢ Rate limits Ğ½Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°

### Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¾Ñ‚ Timeweb

**Ğ Ğ¸ÑĞº:** Vendor lock-in Ğ´Ğ»Ñ S3 storage

**ĞœĞ¸Ñ‚igation:**
- S3 - ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» (Ğ»ĞµĞ³ĞºĞ¾ Ğ¼Ğ¸Ğ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ)
- ĞœĞ¾Ğ¶ĞµĞ¼ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ»ÑĞ±Ğ¾Ğ¹ S3-compatible Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ (Selectel, AWS, etc.)
- Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ±ÑĞºĞ°Ğ¿Ñ‹ ĞºĞ°Ğº fallback

### API Availability

**SLA Timeweb API:** 99.9% (Ğ½Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾, Ğ½Ğ¾ Ğ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ¾)

**Impact:**
- Backup upload fail â†’ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ±ÑĞºĞ°Ğ¿ Ğ¾ÑÑ‚Ğ°ĞµÑ‚ÑÑ
- Monitoring unavailable â†’ SSH Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ ĞºĞ°Ğº fallback

**Ğ’Ñ‹Ğ²Ğ¾Ğ´:** ğŸŸ¡ ĞĞ¸Ğ·ĞºĞ¸Ğ¹ risk

---

## 6. ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹

### S3 Storage - ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹

| ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ | Ğ¦ĞµĞ½Ğ° | ĞŸĞ»ÑÑÑ‹ | ĞœĞ¸Ğ½ÑƒÑÑ‹ |
|-----------|------|-------|--------|
| **Timeweb S3** | ~1.5 â‚½/GB | ğŸŸ¢ Ğ¢Ğ¾Ñ‚ Ğ¶Ğµ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€<br>ğŸŸ¢ ĞœĞ¾ÑĞºĞ¾Ğ²ÑĞºĞ¸Ğ¹ DC<br>ğŸŸ¢ 152-Ğ¤Ğ— | ğŸ”´ Single vendor |
| **Selectel S3** | ~1.2 â‚½/GB | ğŸŸ¢ Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹<br>ğŸŸ¢ 152-Ğ¤Ğ— | ğŸ”´ ĞĞ¾Ğ²Ñ‹Ğ¹ vendor |
| **Yandex Object Storage** | ~1.6 â‚½/GB | ğŸŸ¢ ĞĞ°Ğ´ĞµĞ¶Ğ½Ñ‹Ğ¹<br>ğŸŸ¢ 152-Ğ¤Ğ— | ğŸ”´ Ğ”Ğ¾Ñ€Ğ¾Ğ¶Ğµ |
| **AWS S3** | ~$0.023/GB | ğŸŸ¢ Ğ›ÑƒÑ‡ÑˆĞ¸Ğ¹ SLA | ğŸ”´ Ğ—Ğ° Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†ĞµĞ¹<br>ğŸ”´ ĞĞµ 152-Ğ¤Ğ— |

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ:** Timeweb S3 (Ñ‚Ğ¾Ñ‚ Ğ¶Ğµ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€, Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ)

---

## 7. Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸

### âœ… Ğ Ğ•ĞšĞĞœĞ•ĞĞ”Ğ£Ğ•Ğ¢Ğ¡Ğ¯ Ğº Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ

1. **S3 Off-Site Backups** (ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: HIGH)
   - ĞšĞ¾Ğ³Ğ´Ğ°: Ğ’ Ñ€Ğ°Ğ¼ĞºĞ°Ñ… Baileys Resilience Phase 3-4
   - Ğ—Ğ°Ñ‡ĞµĞ¼: Disaster recovery, off-site storage
   - Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: <1 â‚½/Ğ¼ĞµÑÑÑ†
   - Ğ’Ñ€ĞµĞ¼Ñ: 4-6 Ñ‡Ğ°ÑĞ¾Ğ²

### ğŸŸ¡ Ğ ĞĞ¡Ğ¡ĞœĞĞ¢Ğ Ğ•Ğ¢Ğ¬ Ğ² Ğ±ÑƒĞ´ÑƒÑ‰ĞµĞ¼

2. **Server Monitoring API** (ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: LOW)
   - ĞšĞ¾Ğ³Ğ´Ğ°: ĞŸĞ¾ÑĞ»Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (5+ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹)
   - Ğ—Ğ°Ñ‡ĞµĞ¼: ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ operations, capacity planning
   - Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾
   - Ğ’Ñ€ĞµĞ¼Ñ: 3-5 Ğ´Ğ½ĞµĞ¹

### âŒ ĞĞ• Ğ Ğ•ĞšĞĞœĞ•ĞĞ”Ğ£Ğ•Ğ¢Ğ¡Ğ¯

3. **Database Auto-Backups API** (ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: SKIP)
   - ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°: ĞĞ°Ñˆ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ»ÑƒÑ‡ÑˆĞµ (off-site S3, Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ)
   - ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ°: ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ custom ÑĞºÑ€Ğ¸Ğ¿Ñ‚ + Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ S3 upload

---

## 8. Next Steps

### Immediate (ÑĞµĞ¹Ñ‡Ğ°Ñ)

1. **ĞŸÑ€Ğ¸Ğ½ÑÑ‚ÑŒ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ S3 Ğ² Phase 3-4 Ğ¸Ğ»Ğ¸ Ğ¾Ñ‚Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ÑŒ?
2. **Ğ•ÑĞ»Ğ¸ Ğ´Ğ°:**
   - Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Timeweb S3 bucket (5 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ñ‡ĞµÑ€ĞµĞ· UI)
   - Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ² `baileys-resilience-improvements-tasks.md`
   - Ğ—Ğ°Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ 4-6 Ñ‡Ğ°ÑĞ¾Ğ² Ğ½Ğ° Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### Short-term (1-2 Ğ½ĞµĞ´ĞµĞ»Ğ¸)

- Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ S3 integration
- ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ backup/restore Ñ S3
- ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Emergency Recovery Runbook

### Long-term (3-6 Ğ¼ĞµÑÑÑ†ĞµĞ²)

- ĞŸĞµÑ€ĞµÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Server Monitoring Ğ¿Ğ¾ÑĞ»Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- ĞÑ†ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ infrastructure automation

---

## 9. Ğ’Ñ‹Ğ²Ğ¾Ğ´Ñ‹

**ĞĞ±Ñ‰Ğ°Ñ Ğ¾Ñ†ĞµĞ½ĞºĞ° Timeweb Cloud API:** ğŸŸ¡ **7/10**

**ĞŸĞ»ÑÑÑ‹:**
- âœ… S3 Storage Ñ€ĞµÑˆĞ°ĞµÑ‚ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½ÑƒÑ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñƒ off-site backups
- âœ… ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ (~1 â‚½/Ğ¼ĞµÑ)
- âœ… Ğ›ĞµĞ³ĞºĞ°Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ (AWS SDK)
- âœ… Ğ•Ğ´Ğ¸Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ (ÑƒĞ¶Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Timeweb PostgreSQL)

**ĞœĞ¸Ğ½ÑƒÑÑ‹:**
- âŒ Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¸Ğ½ÑÑ‚Ğ²Ğ¾ API Ğ½Ğµ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ñ‹ Ğ½Ğ° Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¼ ÑÑ‚Ğ°Ğ¿Ğµ
- âŒ Vendor lock-in (Ğ½Ğ¾ S3 - ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»)
- âŒ Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ

**Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ:**
ğŸŸ¢ **Ğ˜ĞĞ¢Ğ•Ğ“Ğ Ğ˜Ğ ĞĞ’ĞĞ¢Ğ¬ S3 Object Storage** Ğ² Ñ€Ğ°Ğ¼ĞºĞ°Ñ… Phase 3-4 Baileys Resilience
ğŸ”´ **ĞĞ¢Ğ›ĞĞ–Ğ˜Ğ¢Ğ¬** Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ API Ğ´Ğ¾ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

---

**ĞĞ²Ñ‚Ğ¾Ñ€:** Claude Code
**Ğ”Ğ°Ñ‚Ğ°:** 2025-11-24
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½, Ğ¾Ğ¶Ğ¸Ğ´Ğ°ĞµÑ‚ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ
