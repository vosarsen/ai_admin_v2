# –ú–∏–≥—Ä–∞—Ü–∏—è VPS: –ú–æ—Å–∫–≤–∞ ‚Üí –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥

**–î–∞—Ç–∞:** 2025-10-31
**–ê–≤—Ç–æ—Ä:** Claude + Vosarsen
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Timeweb PostgreSQL —á–µ—Ä–µ–∑ –ø—Ä–∏–≤–∞—Ç–Ω—É—é —Å–µ—Ç—å
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìã –ö–æ–Ω—Ç–µ–∫—Å—Ç

### –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å Supabase –Ω–∞ Timeweb PostgreSQL –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏:
- VPS –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ **–ú–æ—Å–∫–≤–µ** (82.97.248.146)
- PostgreSQL –ë–î –≤ **–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ** (–ø—Ä–∏–≤–∞—Ç–Ω–∞—è —Å–µ—Ç—å "Cute Crossbill" 192.168.0.0/24)
- **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Å–µ—Ç–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä–∞**
- IP 192.168.0.4 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å –º–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ VPS (100% packet loss)

### –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –±—ã—Ç—å –≤ –æ–¥–Ω–æ–º –î–¶?

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –†–∞–∑–Ω—ã–µ –î–¶ (—á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç) | –û–¥–∏–Ω –î–¶ (–ø—Ä–∏–≤–∞—Ç–Ω–∞—è —Å–µ—Ç—å) |
|----------|---------------------------|-------------------------|
| **–õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** | 19ms | **<1ms** (–≤ 19 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ!) |
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | –¢—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç | –ü—Ä–∏–≤–∞—Ç–Ω–∞—è —Å–µ—Ç—å |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å —Ç—Ä–∞—Ñ–∏–∫–∞** | –ü–ª–∞—Ç–Ω—ã–π | –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ë–î** | –ë–∞–∑–æ–≤–∞—è | –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è |

### –ü–æ—á–µ–º—É –°–ü–ë, –∞ –Ω–µ –ú–°–ö?

- ‚ùå PostgreSQL –≤ –ú–æ—Å–∫–≤–µ —Å–æ–∑–¥–∞—Ç—å –Ω–µ–ª—å–∑—è (–î–¶ –∑–∞–ø–æ–ª–Ω–µ–Ω)
- ‚úÖ PostgreSQL –≤ –°–ü–ë —É–∂–µ —Å–æ–∑–¥–∞–Ω
- ‚úÖ VPS –≤ –°–ü–ë —Å–æ–∑–¥–∞—Ç—å –º–æ–∂–Ω–æ
- ‚úÖ Timeweb –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –æ–±—Ä–∞–∑—ã –º–µ–∂–¥—É –î–¶

**–í—ã–≤–æ–¥:** –ü–µ—Ä–µ–Ω–æ—Å–∏–º VPS –≤ –°–ü–ë (–∫ –ë–î), –∞ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç.

---

## üéØ –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –°–Ω–µ–ø—à–æ—Ç/–û–±—Ä–∞–∑ (–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ)

- ‚úÖ –ë—ã—Å—Ç—Ä–æ (10 –º–∏–Ω—É—Ç)
- ‚ùå **Timeweb –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å VPS –∏–∑ –æ–±—Ä–∞–∑–∞ –≤ –î–†–£–ì–û–ô –ª–æ–∫–∞—Ü–∏–∏**
- ‚ùå –û–±—Ä–∞–∑—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä—É

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ

---

### –í–∞—Ä–∏–∞–Ω—Ç –ë: rsync –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤—ã–±—Ä–∞–Ω–æ) ‚úÖ

**–ü–ª–∞–Ω:**
1. –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–π VPS –≤ –°–ü–ë (Ubuntu 22.04, 8CPU/16GB/160GB)
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë —Å –ú–°–ö ‚Üí –°–ü–ë —á–µ—Ä–µ–∑ rsync
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –°–ü–ë VPS –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–µ—Ç–∏ "Cute Crossbill"
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
6. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å DNS

**–í—Ä–µ–º—è:** ~1 —á–∞—Å
**Downtime:** 10-30 –º–∏–Ω—É—Ç (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–æ—á—å—é)

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –ú–æ—Å–∫–æ–≤—Å–∫–∏–π VPS (82.97.248.146)

```
OS: Ubuntu 24.04
CPU: 8 cores
RAM: 16 GB
–î–∏—Å–∫: 160 GB NVMe
–õ–æ–∫–∞—Ü–∏—è: –ú–æ—Å–∫–≤–∞
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: AI Admin v2 (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ PM2)
```

**–í–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `/opt/ai-admin/` - –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `/opt/ai-admin/baileys_sessions/` - WhatsApp —Å–µ—Å—Å–∏–∏ (–ö–†–ò–¢–ò–ß–ù–û!)
- `/opt/ai-admin/.env` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `/opt/ai-admin/node_modules/` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)

### PostgreSQL –≤ –°–ü–ë

```
–ò–º—è: Cute Crossbill
–ü—Ä–∏–≤–∞—Ç–Ω–∞—è —Å–µ—Ç—å: 192.168.0.0/24
–õ–æ–∫–∞—Ü–∏—è: –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
IP –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–µ—Ç–∏: 192.168.0.X (—É—Ç–æ—á–Ω–∏—Ç—å!)
```

---

## üöÄ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–°–ï–ô–ß–ê–°)

**–¶–µ–ª—å:** –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º

- [x] –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –≤ development diary
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç
- [ ] –°–æ–∑–¥–∞—Ç—å rollback –ø–ª–∞–Ω
- [ ] –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –°–æ–∑–¥–∞—Ç—å backup –º–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ VPS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

### –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ VPS –≤ –°–ü–ë (5 –º–∏–Ω—É—Ç)

**–í –ø–∞–Ω–µ–ª–∏ Timeweb Cloud:**

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã** ‚Üí **–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä**
2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
   - CPU: **8 cores**
   - RAM: **16 GB**
   - –î–∏—Å–∫: **160 GB NVMe SSD**
3. –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: **Ubuntu 22.04 LTS** (–∏–ª–∏ 24.04 - —Ç–∞ –∂–µ —á—Ç–æ –Ω–∞ –º–æ—Å–∫–æ–≤—Å–∫–æ–º)
4. –õ–æ–∫–∞—Ü–∏—è: **–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥** ‚≠ê
5. SSH –∫–ª—é—á: –î–æ–±–∞–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á `id_ed25519_ai_admin.pub`
6. –°–æ–∑–¥–∞—Ç—å

**–ü–æ–ª—É—á–∏—Ç—å:**
- IP –∞–¥—Ä–µ—Å –Ω–æ–≤–æ–≥–æ VPS (–Ω–∞–ø—Ä–∏–º–µ—Ä: `188.225.45.57`)
- –ó–∞–ø–∏—Å–∞—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: `SPB_VPS_IP=188.225.45.57`

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:**
```bash
ssh -i ~/.ssh/id_ed25519_ai_admin root@$SPB_VPS_IP "echo 'VPS –¥–æ—Å—Ç—É–ø–µ–Ω'"
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** ‚úÖ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### –≠—Ç–∞–ø 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (10-30 –º–∏–Ω—É—Ç)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç:** `scripts/migrate-vps-msk-to-spb.sh`

**–ß—Ç–æ —Å–∫—Ä–∏–ø—Ç –¥–µ–ª–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –æ–±–æ–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
2. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∞ –°–ü–ë VPS:
   - Node.js 20
   - PM2
   - Redis
   - Git
3. ‚úÖ –ö–æ–ø–∏—Ä—É–µ—Ç —Å –ú–°–ö ‚Üí –°–ü–ë:
   - –ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`/opt/ai-admin/`)
   - WhatsApp —Å–µ—Å—Å–∏–∏ (`baileys_sessions/`)
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (`.env`)
4. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç npm –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
5. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

**–û–±–Ω–æ–≤–∏—Ç—å IP –≤ —Å–∫—Ä–∏–ø—Ç–µ:**
```bash
# –û—Ç–∫—Ä—ã—Ç—å —Å–∫—Ä–∏–ø—Ç
nano scripts/migrate-vps-msk-to-spb.sh

# –ù–∞–π—Ç–∏ —Å—Ç—Ä–æ–∫—É:
SPB_HOST="188.225.45.57"

# –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π IP –Ω–æ–≤–æ–≥–æ VPS –≤ –°–ü–ë
```

**–ó–∞–ø—É—Å–∫:**
```bash
./scripts/migrate-vps-msk-to-spb.sh
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
üöÄ –ú–∏–≥—Ä–∞—Ü–∏—è VPS: –ú–æ—Å–∫–≤–∞ ‚Üí –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥

1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤...
‚úÖ –ú–æ—Å–∫–æ–≤—Å–∫–∏–π VPS –¥–æ—Å—Ç—É–ø–µ–Ω
‚úÖ –ü–∏—Ç–µ—Ä—Å–∫–∏–π VPS –¥–æ—Å—Ç—É–ø–µ–Ω

2Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∏—Ç–µ—Ä—Å–∫–æ–≥–æ VPS...
‚úÖ –ü–∏—Ç–µ—Ä—Å–∫–∏–π VPS –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω

3Ô∏è‚É£ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (—ç—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 10-30 –º–∏–Ω—É—Ç)...
   üìÅ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...
   [progress bar]
   üì§ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø–∏—Ç–µ—Ä—Å–∫–∏–π VPS...
   [progress bar]
   üîê –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ WhatsApp —Å–µ—Å—Å–∏–π...
   [progress bar]

4Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞ –ø–∏—Ç–µ—Ä—Å–∫–æ–º VPS...
‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

5Ô∏è‚É£ –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤...
‚úÖ –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** ‚úÖ –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

### –≠—Ç–∞–ø 3: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–µ—Ç–∏ (5 –º–∏–Ω—É—Ç)

**–í –ø–∞–Ω–µ–ª–∏ Timeweb Cloud:**

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã** ‚Üí –ø–∏—Ç–µ—Ä—Å–∫–∏–π VPS
2. –í–∫–ª–∞–¥–∫–∞ **"–°–µ—Ç–∏"** –∏–ª–∏ **"–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Å–µ—Ç–∏"**
3. –ö–Ω–æ–ø–∫–∞ **"–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ç—å"** –∏–ª–∏ **"–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ —Å–µ—Ç–∏"**
4. –í—ã–±—Ä–∞—Ç—å —Å–µ—Ç—å: **"Cute Crossbill"** (192.168.0.0/24)
5. –ü–æ–¥–∫–ª—é—á–∏—Ç—å

**–û–∂–∏–¥–∞–Ω–∏–µ:** 1-2 –º–∏–Ω—É—Ç—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å eth1 –ø–æ—è–≤–∏–ª—Å—è –∏ –ø–æ–¥–Ω—è—Ç
ssh -i ~/.ssh/id_ed25519_ai_admin root@$SPB_VPS_IP "ip addr show | grep -A 10 eth1"

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞:
# 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500
#    inet 192.168.0.5/24 scope global eth1
```

**–ó–∞–ø–∏—Å–∞—Ç—å IP –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–µ—Ç–∏:**
```bash
SPB_PRIVATE_IP=192.168.0.5  # –ü—Ä–∏–º–µ—Ä, —É—Ç–æ—á–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π!
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** ‚úÖ VPS –ø–æ–ª—É—á–∏–ª IP –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 192.168.0.x

---

### –≠—Ç–∞–ø 4: –£–∑–Ω–∞—Ç—å IP PostgreSQL (2 –º–∏–Ω—É—Ç—ã)

**–í –ø–∞–Ω–µ–ª–∏ Timeweb Cloud:**

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **–û–±–ª–∞—á–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** ‚Üí **Cute Crossbill**
2. –í–∫–ª–∞–¥–∫–∞ **"–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"** –∏–ª–∏ **"Connection"** –∏–ª–∏ **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"**
3. –ù–∞–π—Ç–∏ **IP –∞–¥—Ä–µ—Å –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–µ—Ç–∏**

**–ò–ª–∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∞–¥—Ä–µ—Å–∞:**
```bash
# –° –ø–∏—Ç–µ—Ä—Å–∫–æ–≥–æ VPS –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
ssh -i ~/.ssh/id_ed25519_ai_admin root@$SPB_VPS_IP

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ IP:
for ip in 192.168.0.2 192.168.0.3 192.168.0.4 192.168.0.6; do
  echo -n "Testing $ip: "
  timeout 2 nc -zv $ip 5432 2>&1 | grep -q succeeded && echo "‚úÖ FOUND!" || echo "‚ùå"
done
```

**–ó–∞–ø–∏—Å–∞—Ç—å IP PostgreSQL:**
```bash
PG_PRIVATE_IP=192.168.0.X  # –£—Ç–æ—á–Ω–∏—Ç—å!
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** ‚úÖ –ù–∞—à–ª–∏ IP PostgreSQL, –ø–æ—Ä—Ç 5432 –¥–æ—Å—Ç—É–ø–µ–Ω

---

### –≠—Ç–∞–ø 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env (3 –º–∏–Ω—É—Ç—ã)

**–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞ –ø–∏—Ç–µ—Ä—Å–∫–æ–º VPS:**

```bash
ssh -i ~/.ssh/id_ed25519_ai_admin root@$SPB_VPS_IP

# –û—Ç–∫—Ä—ã—Ç—å .env
nano /opt/ai-admin/.env

# –ù–∞–π—Ç–∏ –∏ –æ–±–Ω–æ–≤–∏—Ç—å:
POSTGRES_HOST=192.168.0.X  # ‚Üê IP PostgreSQL –∏–∑ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–µ—Ç–∏
POSTGRES_PORT=5432
POSTGRES_DATABASE=default_db
POSTGRES_USER=gen_user
POSTGRES_PASSWORD=}X|oM595A<7n?0

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ USE_LEGACY_SUPABASE=true (–ø–æ–∫–∞ –æ—Å—Ç–∞–≤–ª—è–µ–º Supabase)
USE_LEGACY_SUPABASE=true

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å: Ctrl+O, Enter, Ctrl+X
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** ‚úÖ .env –æ–±–Ω–æ–≤–ª–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º POSTGRES_HOST

---

### –≠—Ç–∞–ø 6: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (5 –º–∏–Ω—É—Ç)

**–ù–∞ –ø–∏—Ç–µ—Ä—Å–∫–æ–º VPS:**

```bash
cd /opt/ai-admin

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ
ls -la

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 start ecosystem.config.js

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é PM2
pm2 save

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
pm2 startup
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –∏–∑ –≤—ã–≤–æ–¥–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs --lines 50
```

**–û–∂–∏–¥–∞–µ–º –≤ –ª–æ–≥–∞—Ö:**
```
‚úÖ Connected to Timeweb PostgreSQL
   PostgreSQL version: PostgreSQL 14.x
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

---

### –≠—Ç–∞–ø 7: –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (5 –º–∏–Ω—É—Ç)

```bash
cd /opt/ai-admin

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
./scripts/test-timeweb-connection.sh
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üîç Testing Timeweb PostgreSQL connection...

1Ô∏è‚É£ Testing connection...
   Host: 192.168.0.X:5432
   Database: default_db
   User: gen_user

‚úÖ Connection successful!

2Ô∏è‚É£ Checking PostgreSQL version...
PostgreSQL 14.10 (Ubuntu 14.10-0ubuntu0.22.04.1)

3Ô∏è‚É£ Checking database size...
 db_size
---------
 0 bytes

4Ô∏è‚É£ Checking max_connections...
 max_connections
-----------------
 100

5Ô∏è‚É£ Testing CREATE/INSERT/SELECT...
 id |            data            |         created_at
----+----------------------------+----------------------------
  1 | Test from migration script | 2025-10-31 21:00:00.123456
‚úÖ CREATE/INSERT/SELECT test passed

‚úÖ All tests passed! Timeweb PostgreSQL is ready for migration.
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏

---

### –≠—Ç–∞–ø 8: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î (10 –º–∏–Ω—É—Ç)

```bash
cd /opt/ai-admin

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É
./scripts/apply-schema-timeweb.sh
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üöÄ Applying database schema to Timeweb PostgreSQL...

1Ô∏è‚É£ Testing connection...
‚úÖ Connection OK

2Ô∏è‚É£ Applying base schema (scripts/setup-database.sql)...
‚úÖ Base schema applied

3Ô∏è‚É£ Applying migrations...
   Found 10 migration(s)

   üìÑ Applying: migrations/20251007_create_whatsapp_auth_tables.sql
   ‚úÖ migrations/20251007_create_whatsapp_auth_tables.sql applied successfully

   [... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ ...]

4Ô∏è‚É£ Verifying created tables...
      table_name       | column_count
-----------------------+--------------
 companies             |            7
 clients               |           10
 bookings              |           12
 services              |            8
 staff                 |            9
 whatsapp_auth         |            4
 whatsapp_keys         |            7
 [... –∏ —Ç.–¥. ...]

5Ô∏è‚É£ Verifying indexes...
   [—Å–ø–∏—Å–æ–∫ –∏–Ω–¥–µ–∫—Å–æ–≤]

‚úÖ Schema applied successfully to Timeweb PostgreSQL!
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã

---

### –≠—Ç–∞–ø 9: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (10 –º–∏–Ω—É—Ç)

**–¢–µ—Å—Ç —á–µ—Ä–µ–∑ MCP (–ª–æ–∫–∞–ª—å–Ω–æ):**

```bash
# –û–±–Ω–æ–≤–∏—Ç—å Redis tunnel –Ω–∞ –Ω–æ–≤—ã–π IP
./scripts/maintain-redis-tunnel.sh stop
ssh -L 6380:localhost:6379 root@$SPB_VPS_IP -N &

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ WhatsApp
# (–∏—Å–ø–æ–ª—å–∑—É—è MCP –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –±–æ—Ç—É)
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –ø–∏—Ç–µ—Ä—Å–∫–æ–º VPS:**
```bash
ssh root@$SPB_VPS_IP

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs ai-admin-worker-v2 --lines 100

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ë–î —Ä–∞–±–æ—Ç–∞–µ—Ç
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

---

### –≠—Ç–∞–ø 10: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ DNS (5 –º–∏–Ω—É—Ç + TTL)

**–í–ê–ñ–ù–û:** –î–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!

**–û–±–Ω–æ–≤–∏—Ç—å DNS A-–∑–∞–ø–∏—Å—å:**
```
–ë—ã–ª–æ: bot.yourdomain.com ‚Üí 82.97.248.146 (–ú–æ—Å–∫–≤–∞)
–°—Ç–∞–ª–æ: bot.yourdomain.com ‚Üí 188.225.45.57 (–°–ü–ë)
```

**–û–∂–∏–¥–∞–Ω–∏–µ:** TTL DNS –∑–∞–ø–∏—Å–∏ (–æ–±—ã—á–Ω–æ 300-3600 —Å–µ–∫—É–Ω–¥)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ DNS –æ–±–Ω–æ–≤–∏–ª—Å—è
dig bot.yourdomain.com +short
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: 188.225.45.57
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** ‚úÖ DNS —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–æ–≤—ã–π IP

---

### –≠—Ç–∞–ø 11: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (24 —á–∞—Å–∞)

**–ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–π —á–∞—Å –ø–µ—Ä–≤—ã–µ 6 —á–∞—Å–æ–≤, –ø–æ—Ç–æ–º –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤:**

```bash
ssh root@$SPB_VPS_IP

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å PM2
pm2 status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
pm2 logs --err --lines 50

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
pm2 monit
```

**–ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:**
- ‚úÖ CPU usage <70%
- ‚úÖ Memory usage <80%
- ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ WhatsApp —Å–µ—Å—Å–∏–∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 24 —á–∞—Å–∞

---

### –≠—Ç–∞–ø 12: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ VPS (—á–µ—Ä–µ–∑ 48 —á–∞—Å–æ–≤)

**–¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ 48 —á–∞—Å–æ–≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã!**

1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –º–æ—Å–∫–æ–≤—Å–∫–æ–º VPS:
   ```bash
   ssh root@82.97.248.146
   pm2 stop all
   pm2 delete all
   ```

2. –°–æ–∑–¥–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –±—ç–∫–∞–ø (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   ```bash
   # –í –ø–∞–Ω–µ–ª–∏ Timeweb —Å–æ–∑–¥–∞—Ç—å —Å–Ω–µ–ø—à–æ—Ç –º–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ VPS
   # –ù–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –∑–∞–±—ã–ª–∏
   ```

3. –£–¥–∞–ª–∏—Ç—å –º–æ—Å–∫–æ–≤—Å–∫–∏–π VPS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   ```bash
   # –í –ø–∞–Ω–µ–ª–∏ Timeweb —É–¥–∞–ª–∏—Ç—å VPS
   # –ò–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ 1 –º–µ—Å—è—Ü –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π
   ```

---

## üîô Rollback –ø–ª–∞–Ω

### –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å

**–ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞—Ç (<5 –º–∏–Ω—É—Ç):**

1. –í–µ—Ä–Ω—É—Ç—å DNS –Ω–∞ —Å—Ç–∞—Ä—ã–π IP:
   ```
   bot.yourdomain.com ‚Üí 82.97.248.146 (–ú–æ—Å–∫–≤–∞)
   ```

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–æ—Å–∫–æ–≤—Å–∫–∏–π VPS —Ä–∞–±–æ—Ç–∞–µ—Ç:
   ```bash
   ssh root@82.97.248.146
   pm2 status
   # –ï—Å–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
   pm2 start all
   ```

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:
   ```bash
   pm2 logs --lines 50
   ```

**–ú–æ—Å–∫–æ–≤—Å–∫–∏–π VPS –ù–ï –¢–†–û–ì–ê–ï–ú –¥–æ –ø–æ–ª–Ω–æ–π —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –ø–∏—Ç–µ—Ä—Å–∫–æ–≥–æ!**

---

### –¢–æ—á–∫–∏ –æ—Ç–∫–∞—Ç–∞

| –≠—Ç–∞–ø | –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|------|-------------|----------|
| **1-2** | –ù–µ —Å–æ–∑–¥–∞–ª—Å—è VPS –∏–ª–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ failed | –£–¥–∞–ª–∏—Ç—å –ø–∏—Ç–µ—Ä—Å–∫–∏–π VPS, –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å |
| **3-7** | –ù–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ PostgreSQL | –û—Å—Ç–∞–≤–∏—Ç—å –º–æ—Å–∫–æ–≤—Å–∫–∏–π VPS —Ä–∞–±–æ—Ç–∞—Ç—å, —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —Å–µ—Ç—å—é |
| **8** | –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Å—Ö–µ–º—ã | –ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç, PostgreSQL –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å |
| **9-10** | DNS –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | **–û—Ç–∫–∞—Ç–∏—Ç—å DNS!** –ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç |

---

## üìä –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|------------|---------|-----------|
| **–ü–æ—Ç–µ—Ä—è WhatsApp —Å–µ—Å—Å–∏–π** | –ù–∏–∑–∫–∞—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | –°–∫—Ä–∏–ø—Ç –∫–æ–ø–∏—Ä—É–µ—Ç `baileys_sessions/` –æ—Ç–¥–µ–ª—å–Ω–æ |
| **Downtime >30 –º–∏–Ω** | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –î–µ–ª–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–æ—á—å—é, Moscow VPS –æ—Å—Ç–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å |
| **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–µ—Ç—å—é** | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–æ–µ | –ú–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ë–î |
| **DNS –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è** | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ü—Ä–æ–≤–µ—Ä—è—Ç—å —á–µ—Ä–µ–∑ `dig`, –∂–¥–∞—Ç—å TTL |
| **–û—à–∏–±–∫–∏ –≤ .env** | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ–µ | –î–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º |

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] VPS –≤ –°–ü–ë —Å–æ–∑–¥–∞–Ω
- [ ] –î–∞–Ω–Ω—ã–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–µ—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] PostgreSQL –¥–æ—Å—Ç—É–ø–µ–Ω (<1ms latency)
- [ ] –°—Ö–µ–º–∞ –ë–î –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- [ ] DNS –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω
- [ ] 48 —á–∞—Å–æ–≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- [ ] –ú–æ—Å–∫–æ–≤—Å–∫–∏–π VPS –≤—ã–∫–ª—é—á–µ–Ω

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–°–º–æ—Ç—Ä–∏: `docs/VPS_MIGRATION_CHECKLIST.md`

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `scripts/migrate-vps-msk-to-spb.sh` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
- `scripts/test-timeweb-connection.sh` - –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `scripts/apply-schema-timeweb.sh` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î
- `docs/TIMEWEB_POSTGRES_MIGRATION.md` - –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Timeweb PostgreSQL
- `docs/VPS_MIGRATION_CHECKLIST.md` - –î–µ—Ç–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç (—Å–æ–∑–¥–∞—Ç—å)

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

**Timeweb Cloud:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞: https://timeweb.cloud/help
- Email: support@timeweb.com
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://timeweb.cloud/docs

---

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –Ω–∞—á–∞–ª—É –º–∏–≥—Ä–∞—Ü–∏–∏:** ‚è≥ –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2025-10-31*
*–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: –°–æ–∑–¥–∞—Ç—å —á–µ–∫–ª–∏—Å—Ç –∏ rollback –ø–ª–∞–Ω*
