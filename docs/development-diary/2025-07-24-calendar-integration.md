# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## –î–∞—Ç–∞: 24 –∏—é–ª—è 2025, 22:30

## –ö–æ–Ω—Ç–µ–∫—Å—Ç
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø—Ä–æ—Å–∏–ª –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å iOS/Android —á–µ—Ä–µ–∑ .ics —Ñ–∞–π–ª.

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä .ics —Ñ–∞–π–ª–æ–≤
–§–∞–π–ª: `src/utils/ics-generator.js`

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö .ics —Ñ–∞–π–ª–æ–≤ –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ iCalendar
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ Europe/Moscow
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (–∑–∞ –¥–µ–Ω—å –∏ –∑–∞ 2 —á–∞—Å–∞)
- –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç –∏ escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ .ics —á–µ—Ä–µ–∑ WhatsApp
–§–∞–π–ª: `src/workers/message-worker-v2.js`

–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `sendCalendarInvite()` –∫–æ—Ç–æ—Ä—ã–π:
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç .ics —Ñ–∞–π–ª –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –ø–∞–ø–∫—É temp/ics/
- –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –∫–æ–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ WhatsApp

**–°—Ç–∞—Ç—É—Å**: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ –¥–æ –≤—ã—è—Å–Ω–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Venom Bot

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ Google Calendar
–§–∞–π–ª: `src/services/ai-admin-v2/modules/formatter.js`

–í —Å–∞–º–º–∞—Ä–∏ –∑–∞–ø–∏—Å–∏ —Ç–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è:
- –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ Google Calendar
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π iPhone
- –í—Å–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–ø–∏—Å–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ URL

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–æ—Ä–º–∞—Ç .ics —Ñ–∞–π–ª–∞
```ics
BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//AI Admin//Beauty Salon Booking//RU
BEGIN:VTIMEZONE
TZID:Europe/Moscow
...
END:VTIMEZONE
BEGIN:VEVENT
UID:unique-id@ai-admin
DTSTART;TZID=Europe/Moscow:20250725T140000
DTEND;TZID=Europe/Moscow:20250725T150000
SUMMARY:–ú—É–∂—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞ (–°–µ—Ä–≥–µ–π)
DESCRIPTION:–ó–∞–ø–∏—Å—å –≤ —Å–∞–ª–æ–Ω...
LOCATION:–ê–¥—Ä–µ—Å —Å–∞–ª–æ–Ω–∞
BEGIN:VALARM
TRIGGER:-PT2H
...
END:VALARM
END:VEVENT
END:VCALENDAR
```

### Google Calendar URL
```
https://calendar.google.com/calendar/render?action=TEMPLATE
&text=–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
&dates=20250725T140000/20250725T150000
&details=–û–ø–∏—Å–∞–Ω–∏–µ
&location=–ê–¥—Ä–µ—Å
```

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ WhatsApp
Venom Bot API –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: 
- –ö–æ–¥ –≥–æ—Ç–æ–≤ –Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ Google Calendar –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 2: iOS –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
Apple Calendar –Ω–µ –∏–º–µ–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–∞–∫ Google.

**–†–µ—à–µ–Ω–∏–µ**:
- –î–ª—è Android/Desktop: —Å—Å—ã–ª–∫–∞ –Ω–∞ Google Calendar
- –î–ª—è iOS: –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –î–ª–∏–Ω–Ω—ã–µ URL –≤ WhatsApp
Data URL –∏ webcal —Å—Å—ã–ª–∫–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–º–∏.

**–†–µ—à–µ–Ω–∏–µ**: –û—Å—Ç–∞–≤–∏–ª–∏ —Ç–æ–ª—å–∫–æ Google Calendar —Å—Å—ã–ª–∫—É

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç:
```
‚úÖ *–ó–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!*

üìã *–î–µ—Ç–∞–ª–∏ –≤–∞—à–µ–π –∑–∞–ø–∏—Å–∏:*
üìÖ –ó–∞–≤—Ç—Ä–∞ (25 –∏—é–ª—è)
üïê 14:00
üíá –ú—É–∂—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞
üë§ –ë–∞—Ä–±–µ—Ä: –°–µ—Ä–≥–µ–π
üìç –ú–∞–ª–∞—Ö–æ–≤–∫–∞, –Æ–∂–Ω–∞—è —É–ª–∏—Ü–∞, 38

üí¨ _–ñ–¥—ë–º –≤–∞—Å! –ï—Å–ª–∏ –ø–ª–∞–Ω—ã –∏–∑–º–µ–Ω—è—Ç—Å—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ –∑–∞—Ä–∞–Ω–µ–µ._

üìÖ _–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å:_
https://calendar.google.com/calendar/render?action=TEMPLATE&...

üì± _–î–ª—è iPhone: —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–ø–∏—Å–∏ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ö–∞–ª–µ–Ω–¥–∞—Ä—å_
```

## TODO

1. **–£—Ç–æ—á–Ω–∏—Ç—å API Venom Bot** –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   - sendFile —Å base64?
   - sendDocument?
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–∫ –º–µ–¥–∏–∞?

2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è iOS**:
   - –°–µ—Ä–≤–∏—Å –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è .ics —Ñ–∞–π–ª–æ–≤
   - –•–æ—Å—Ç–∏–Ω–≥ .ics —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Calendly –∏–ª–∏ –ø–æ–¥–æ–±–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

3. **–£–ª—É—á—à–µ–Ω–∏—è**:
   - –î–æ–±–∞–≤–∏—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Å–ª—É–≥–∏ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤
   - –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

## –£—Ä–æ–∫–∏ –Ω–∞ –±—É–¥—É—â–µ–µ

1. WhatsApp –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤ –∏ —Å–ø–æ—Å–æ–±—ã –∏—Ö –æ—Ç–ø—Ä–∞–≤–∫–∏
2. –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π —Å–ª–æ–∂–Ω–µ–µ —á–µ–º –∫–∞–∂–µ—Ç—Å—è
3. Google Calendar API —Å–∞–º—ã–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
4. –í–∞–∂–Ω–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å fallback —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º