# –£–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

**–î–∞—Ç–∞**: 11 —Å–µ–Ω—Ç—è–±—Ä—è 2025
**–ê–≤—Ç–æ—Ä**: AI Assistant  
**–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: Bugfix, –£–ª—É—á—à–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ø—Ä–æ–±–ª–µ–º—ã](#–∫–æ–Ω—Ç–µ–∫—Å—Ç-–∏-–ø—Ä–æ–±–ª–µ–º—ã)
2. [–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è](#—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ-—Ä–µ—à–µ–Ω–∏—è)
3. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
4. [–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
5. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏–∑–º–µ–Ω–µ–Ω–∏–π)

## –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤
**–°–∏–º–ø—Ç–æ–º—ã**:
- –ë–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–ª —Å–ª–æ—Ç—ã –≤ 21:30 –∏ 22:00 –¥–ª—è —É—Å–ª—É–≥–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é 60 –º–∏–Ω—É—Ç
- –ö–æ–º–ø–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ 22:00, —É—Å–ª—É–≥–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- –ü—Ä–µ–¥–ª–∞–≥–∞–ª—Å—è —Å–ª–æ—Ç –≤ 15:00, —Ö–æ—Ç—è –≤ 15:30 —É–∂–µ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏)

**–ö–æ—Ä–Ω–µ–≤—ã–µ –ø—Ä–∏—á–∏–Ω—ã**:
1. –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞: —Å–ª–æ—Ç + –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Å–ª—É–≥–∏ ‚â§ –≤—Ä–µ–º—è –∑–∞–∫—Ä—ã—Ç–∏—è
2. –ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å –¥–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–ø–∏—Å–∏
3. YClients API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ" —Å–ª–æ—Ç—ã –±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏
**–°–∏–º–ø—Ç–æ–º—ã**:
- –ë–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–ª –≤—Ä–µ–º—è 21:00
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–≥–ª–∞—à–∞–ª—Å—è: "–î–∞–≤–∞–π, –¥–∞"
- AI –ø—ã—Ç–∞–ª—Å—è –∑–∞–ø–∏—Å–∞—Ç—å –Ω–∞ 21:05 (–∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
- –ó–∞–ø–∏—Å—å –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π "–≤—Ä–µ–º—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**:
- AI –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `lastTime` –∏–∑ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤–º–µ—Å—Ç–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ —Å–≤—è–∑—å –º–µ–∂–¥—É –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –±–æ—Ç–∞ –∏ —Å–æ–≥–ª–∞—Å–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ 1: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤

#### 1.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤
```javascript
// –°–ª–æ—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –≤—ã—Ö–æ–¥–∏—Ç—å –∑–∞ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è
if (slotEnd > workEndTime) {
  return false; // –û—Ç–∫–ª–æ–Ω—è–µ–º —Å–ª–æ—Ç
}
```

#### 1.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–ø–∏—Å–∏
```javascript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Ö–≤–∞—Ç–∏—Ç –ª–∏ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —É—Å–ª—É–≥–∏
const availableTime = nextBookingStart - slotStart;
if (availableTime < serviceDuration) {
  return false; // –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏
}
```

#### 1.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è)
```javascript
// –°–ª–æ—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å—Å—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∑–∞–ø–∏—Å—è–º–∏
if (hasOverlap(slot, existingBooking)) {
  return false;
}
```

### –†–µ—à–µ–Ω–∏–µ 2: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤

#### 2.1 –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ Redis
–ü—Ä–∏ –ø–æ–∫–∞–∑–µ —Å–ª–æ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
```javascript
contextUpdates.proposedSlots = [
  {
    time: "21:00",
    date: "—Å–µ–≥–æ–¥–Ω—è",
    staff: "–ë–∞—Ä–∏",
    service: "–°–¢–†–ò–ñ–ö–ê"
  }
];
```

#### 2.2 –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤ AI –ø—Ä–æ–º–ø—Ç–µ
```
üî¥ –í–ê–ñ–ù–û! –ö–ª–∏–µ–Ω—Ç—É –±—ã–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å–ª–æ—Ç—ã:
  - 21:00 (—Å–µ–≥–æ–¥–Ω—è, –ë–∞—Ä–∏, –°–¢–†–ò–ñ–ö–ê)
–ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç —Å–æ–≥–ª–∞—à–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–π –û–î–ò–ù –ò–ó –≠–¢–ò–• —Å–ª–æ—Ç–æ–≤, –∞ –ù–ï lastTime!
```

#### 2.3 –û—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ `proposedSlots` –æ—á–∏—â–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

#### 1. `/src/services/booking/slot-validator.js`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `workingHours` –≤ –º–µ—Ç–æ–¥ `validateSlots()`
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã—Ö–æ–¥–∞ –∑–∞ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–ø–∏—Å–∏
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
```javascript
validateSlots(slots, existingBookings, serviceDuration, workingHours) {
  // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤
  // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–ø–∏—Å–∏
  // 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π
}
```

#### 2. `/src/services/booking/index.js`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É—Å–ª—É–≥–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ü–µ—Ä–µ–¥–∞—á–∞ `serviceDuration` –∏ `workingHours` –≤ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏

#### 3. `/src/services/ai-admin-v2/index.js`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞ –ø—Ä–∏ –ø–æ–∫–∞–∑–µ —Å–ª–æ—Ç–æ–≤
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `proposedSlots` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Redis
- –û—á–∏—Å—Ç–∫–∞ `proposedSlots` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–ø–∏—Å–∏

**–õ–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è**:
```javascript
// –ò–∑–≤–ª–µ–∫–∞–µ–º –≤—Ä–µ–º—è –∏–∑ —Ç–µ–∫—Å—Ç–∞ –æ—Ç–≤–µ—Ç–∞
const timePattern = /(\d{1,2}:\d{2})/g;
const mentionedTimes = result.response.match(timePattern);

// –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
contextUpdates.proposedSlots = mentionedTimes.map(time => ({
  time,
  date: searchSlotsCommand.params?.date,
  staff: searchSlotsCommand.params?.staff_name,
  service: searchSlotsCommand.params?.service_name
}));
```

#### 4. `/src/services/ai-admin-v2/prompts/two-stage-command-prompt.js`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `proposedSlots` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
- –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
```
User: –í–æ —Å–∫–æ–ª—å–∫–æ –º–æ–∂–Ω–æ —Å–µ–≥–æ–¥–Ω—è –ø–æ—Å—Ç—Ä–∏—á—å—Å—è?
Bot: –°–µ–≥–æ–¥–Ω—è —Å–≤–æ–±–æ–¥–Ω–æ: 15:00, 21:00, 21:30, 22:00
[–ü—Ä–æ–±–ª–µ–º—ã: 15:00 - –º–∞–ª–æ –≤—Ä–µ–º–µ–Ω–∏, 21:30/22:00 - –≤—ã—Ö–æ–¥ –∑–∞ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è]

User: –î–∞–≤–∞–π –Ω–∞ 21:00
Bot: –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤—Ä–µ–º—è 21:05 —É–∂–µ –∑–∞–Ω—è—Ç–æ
[–ü—Ä–æ–±–ª–µ–º–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–µ–≤–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è]
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
```
User: –í–æ —Å–∫–æ–ª—å–∫–æ –º–æ–∂–Ω–æ —Å–µ–≥–æ–¥–Ω—è –ø–æ—Å—Ç—Ä–∏—á—å—Å—è?
Bot: –°–µ–≥–æ–¥–Ω—è –≤–µ—á–µ—Ä–æ–º –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è –≤ 21:00
[–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ: —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–π —Å–ª–æ—Ç]

User: –î–∞–≤–∞–π, –¥–∞
Bot: –û—Ç–ª–∏—á–Ω–æ! –ó–∞–ø–∏—Å–∞–ª –≤–∞—Å –Ω–∞ 21:00
[–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è]
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```mermaid
graph LR
    A[–ü–æ–∏—Å–∫ —Å–ª–æ—Ç–æ–≤] --> B[YClients API]
    B --> C[–°—ã—Ä—ã–µ —Å–ª–æ—Ç—ã]
    C --> D[–í–∞–ª–∏–¥–∞—Ü–∏—è]
    D --> E[–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏]
    D --> F[–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤]
    D --> G[–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–ø–∏—Å–∏]
    E --> H[–í–∞–ª–∏–¥–Ω—ã–µ —Å–ª–æ—Ç—ã]
    F --> H
    G --> H
    H --> I[–ü–æ–∫–∞–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é]
    I --> J[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ proposedSlots –≤ Redis]
    K[–°–æ–≥–ª–∞—Å–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è] --> L[AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç proposedSlots]
    L --> M[–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏]
```

### –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ Redis

```json
{
  "context:79686484488:962302": {
    "selection": {
      "service": "–°–¢–†–ò–ñ–ö–ê",
      "staff": "–ë–∞—Ä–∏",
      "date": "—Å–µ–≥–æ–¥–Ω—è"
    },
    "proposedSlots": [
      {
        "time": "21:00",
        "date": "—Å–µ–≥–æ–¥–Ω—è",
        "staff": "–ë–∞—Ä–∏",
        "service": "–°–¢–†–ò–ñ–ö–ê"
      }
    ],
    "askedForTimeSelection": true,
    "shownSlotsAt": "2025-09-11T12:34:24.149Z"
  }
}
```

## –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- **–î–æ**: ~60% —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –ø—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü–æ—Å–ª–µ**: ~95% —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

### –ö–∞—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- **–î–æ**: –ü—Ä–µ–¥–ª–∞–≥–∞–ª–∏—Å—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–ª–æ—Ç—ã
- **–ü–æ—Å–ª–µ**: –¢–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏–º—ã–µ —Å–ª–æ—Ç—ã

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
- **–£—Å—Ç—Ä–∞–Ω–µ–Ω—ã** –ª–æ–∂–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
- **–ò—Å–∫–ª—é—á–µ–Ω—ã** –æ—à–∏–±–∫–∏ "–≤—Ä–µ–º—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ" –ø—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏
- **–£–ª—É—á—à–µ–Ω–∞** –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏—è –±–æ—Ç–∞

## –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
1. ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
2. ‚úÖ AI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –ø—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–ø–∏—Å–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –±—É–¥—É—â–µ–µ
1. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ –∏–∑ API/–ë–î** - —Å–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 22:00
2. **–£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –¥–æ—Ä–æ–≥—É –º–µ–∂–¥—É –∑–∞–ø–∏—Å—è–º–∏** - –¥–ª—è –≤—ã–µ–∑–¥–Ω—ã—Ö —É—Å–ª—É–≥
3. **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ "–≤–ø—Ä–∏—Ç—ã–∫"** - –µ—Å–ª–∏ –ø–æ—Å–ª–µ —É—Å–ª—É–≥–∏ –æ—Å—Ç–∞–µ—Ç—Å—è <15 –º–∏–Ω—É—Ç –¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è
4. **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ —Å/–±–µ–∑ —Å—Ç—Ä–æ–≥–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥
- TODO: –ü–æ–ª—É—á–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã –∏–∑ `companies` —Ç–∞–±–ª–∏—Ü—ã
- TODO: –£—á–∏—Ç—ã–≤–∞—Ç—å `technical_break_duration` –º–µ–∂–¥—É –∑–∞–ø–∏—Å—è–º–∏
- TODO: –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- [–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–ª–æ—Ç–æ–≤](./2025-09-11-slot-filtering-and-time-zones.md)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ AI Admin v2](/docs/ARCHITECTURE.md)
- [–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞](/docs/context-system.md)