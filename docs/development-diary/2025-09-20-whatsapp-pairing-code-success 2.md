# üéâ –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è WhatsApp Pairing Code
**–î–∞—Ç–∞**: 20 —Å–µ–Ω—Ç—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–û

## üìã –†–µ–∑—é–º–µ

–ü–æ—Å–ª–µ –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã "couldn't link device", —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è WhatsApp —á–µ—Ä–µ–∑ Pairing Code. –†–µ—à–µ–Ω–∏–µ –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–æ–æ–±—â–µ—Å—Ç–≤—É Baileys (issue #1761) –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞.

---

## üîç –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–≤—è–∑–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —á–µ—Ä–µ–∑ pairing code, WhatsApp –≤–æ–∑–≤—Ä–∞—â–∞–ª –æ—à–∏–±–∫—É:
- **"Couldn't link device"**
- **"Try entering the code again, or get a new code from your device"**

–ö–æ–¥ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª—Å—è —É—Å–ø–µ—à–Ω–æ, –Ω–æ WhatsApp –æ—Ç–∫–ª–æ–Ω—è–ª –µ–≥–æ –ø—Ä–∏ –≤–≤–æ–¥–µ.

---

## üí° –†–µ—à–µ–Ω–∏–µ

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã:

#### 1. ‚úÖ **–ò–∑–º–µ–Ω–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞**
```javascript
// ‚ùå –ë–´–õ–û (–Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ):
browser: ['AI Admin', 'Chrome', '1.0.0']

// ‚úÖ –°–¢–ê–õ–û (—Ä–∞–±–æ—Ç–∞–µ—Ç):
browser: ['Ubuntu', 'Chrome', '20.0.04']
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ**: WhatsApp –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—É –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∏–ª–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Ubuntu/Chrome —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

#### 2. ‚úÖ **–û–∂–∏–¥–∞–Ω–∏–µ QR –∫–æ–¥–∞**
```javascript
// Pairing code –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ QR –¥–æ—Å—Ç—É–ø–µ–Ω
if (qr && sock.usePairingCode && sock.shouldRequestPairingCode) {
    const code = await sock.requestPairingCode(sock.pairingPhoneNumber);
}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ**: Baileys –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å pairing code –ø–æ–∫–∞ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –±–∞–∑–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å WhatsApp —Å–µ—Ä–≤–µ—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä–æ–µ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø–æ—è–≤–ª–µ–Ω–∏–µ–º QR –∫–æ–¥–∞.

#### 3. ‚úÖ **–£–±—Ä–∞–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞**
```javascript
// ‚ùå –ë–´–õ–û:
setTimeout(async () => {
    const code = await sock.requestPairingCode(...);
}, 2000);

// ‚úÖ –°–¢–ê–õ–û:
// –ó–∞–ø—Ä–æ—Å —Å—Ä–∞–∑—É –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ QR
(async () => {
    const code = await sock.requestPairingCode(...);
})();
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ**: –ó–∞–¥–µ—Ä–∂–∫–∞ –≤—ã–∑—ã–≤–∞–ª–∞ timeout –≤ API endpoint, –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–ª—É—á–∞–ª –∫–æ–¥ –≤–æ–≤—Ä–µ–º—è.

#### 4. ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞**
```javascript
// –§–æ—Ä–º–∞—Ç E.164 –±–µ–∑ —Å–∏–º–≤–æ–ª–∞ '+'
let cleanPhone = phoneNumber.replace(/\D/g, '');
// –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ 8xxx –≤ 7xxx
if (cleanPhone.startsWith('8') && cleanPhone.length === 11) {
    cleanPhone = '7' + cleanPhone.substring(1);
}
// –†–µ–∑—É–ª—å—Ç–∞—Ç: 79686484488 (–±–µ–∑ –ø–ª—é—Å–∞!)
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ**: WhatsApp API —Ç—Ä–µ–±—É–µ—Ç —Å—Ç—Ä–æ–≥–∏–π —Ñ–æ—Ä–º–∞—Ç E.164 –±–µ–∑ —Å–∏–º–≤–æ–ª–∞ –ø–ª—é—Å–∞ –¥–ª—è pairing code.

---

## üì± –§–∏–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
   ```
   http://46.149.70.219:3000/whatsapp-pairing.html
   ```

2. **–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ WhatsApp**
   - –§–æ—Ä–º–∞—Ç: —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
   - –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞:
     - `79001234567` ‚úÖ
     - `89001234567` ‚úÖ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ 7xxx)
   - –ù–ï –≤–≤–æ–¥–∏—Ç–µ:
     - `+7 900 123-45-67` ‚ùå
     - –ü—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å—ã, —Å–∫–æ–±–∫–∏ ‚ùå

3. **–ù–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"**
   - –ö–æ–¥ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 —Å–µ–∫—É–Ω–¥
   - –§–æ—Ä–º–∞—Ç –∫–æ–¥–∞: `XXXX-XXXX` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `5WJT-1N7D`)

4. **–ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –æ—Ç–∫—Ä–æ–π—Ç–µ WhatsApp**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** (‚öôÔ∏è)
   - –í—ã–±–µ—Ä–∏—Ç–µ **"–°–≤—è–∑–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"** (Linked Devices)
   - –ù–∞–∂–º–∏—Ç–µ **"–°–≤—è–∑–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ"** (Link a Device)
   - –ü—Ä–æ–π–¥–∏—Ç–µ –±–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
   - –í—ã–±–µ—Ä–∏—Ç–µ **"–°–≤—è–∑–∞—Ç—å —Å –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞"** (Link with phone number instead)

   ‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ï—Å–ª–∏ –æ–ø—Ü–∏–∏ "–°–≤—è–∑–∞—Ç—å —Å –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞" –Ω–µ—Ç - –æ–±–Ω–æ–≤–∏—Ç–µ WhatsApp!

5. **–í–≤–µ–¥–∏—Ç–µ 8-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥**
   - –í–≤–æ–¥–∏—Ç–µ –ë–ï–ó –¥–µ—Ñ–∏—Å–∞: `5WJT1N7D`
   - –£ –≤–∞—Å –µ—Å—Ç—å 60 —Å–µ–∫—É–Ω–¥!

6. **–ì–æ—Ç–æ–≤–æ!**
   - WhatsApp –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ "‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ"

### –ß–µ—Ä–µ–∑ API (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)

```bash
# –ó–∞–ø—Ä–æ—Å pairing code
curl -X POST http://46.149.70.219:3000/api/whatsapp/sessions/962302/pairing-code \
  -H "Content-Type: application/json" \
  -d '{"phoneNumber": "79686484488"}'

# –û—Ç–≤–µ—Ç:
{
  "success": true,
  "code": "5WJT-1N7D",
  "companyId": "962302",
  "expiresIn": 60,
  "instructions": [...]
}
```

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Baileys Socket
```javascript
const sock = makeWASocket({
    version,
    auth: {
        creds: state.creds,
        keys: makeCacheableSignalKeyStore(state.keys, pino({ level: 'silent' }))
    },
    printQRInTerminal: false, // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û false –¥–ª—è pairing code
    logger: pino({ level: 'error' }),
    browser: ['Ubuntu', 'Chrome', '20.0.04'], // –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!
    markOnlineOnConnect: true,
    generateHighQualityLinkPreview: false,
    syncFullHistory: false,
    retryRequestDelayMs: 250,
    maxRetries: 3,
    connectTimeoutMs: 60000,
    keepAliveIntervalMs: 10000,
    qrTimeout: 60000
});
```

### –õ–æ–≥–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ Pairing Code
```javascript
// –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ connection.update
sock.ev.on('connection.update', async (update) => {
    const { connection, lastDisconnect, qr } = update;

    // –ó–∞–ø—Ä–æ—Å pairing code –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ QR
    if (qr && sock.usePairingCode && sock.shouldRequestPairingCode) {
        sock.shouldRequestPairingCode = false; // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

        (async () => {
            try {
                const code = await sock.requestPairingCode(sock.pairingPhoneNumber);
                const formattedCode = code.match(/.{1,4}/g)?.join('-') || code;

                logger.info(`‚úÖ Pairing code: ${formattedCode}`);
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–¥ –∏ —ç–º–∏—Ç–∏–º —Å–æ–±—ã—Ç–∏–µ
                this.qrCodes.set(`pairing-${companyId}`, formattedCode);
                this.emit('pairing-code', { companyId, code: formattedCode });
            } catch (error) {
                logger.error(`Failed: ${error.message}`);
                // Fallback –∫ QR –∫–æ–¥—É
                sock.usePairingCode = false;
            }
        })();
    }
});
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- ‚ùå –ö–æ–¥ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª—Å—è, –Ω–æ WhatsApp –æ—Ç–∫–ª–æ–Ω—è–ª –µ–≥–æ
- ‚ùå –û—à–∏–±–∫–∞ "Couldn't link device"
- ‚ùå –¢–∞–π–º–∞—É—Ç—ã –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫–æ–¥–∞
- ‚ùå –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- ‚úÖ –ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è WhatsApp
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∑–∞ 5-10 —Å–µ–∫—É–Ω–¥
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–æ–≤
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ API

---

## üîó –°—Å—ã–ª–∫–∏ –∏ —Ä–µ—Å—É—Ä—Å—ã

1. **GitHub Issue —Å —Ä–µ—à–µ–Ω–∏–µ–º**: [WhiskeySockets/Baileys#1761](https://github.com/WhiskeySockets/Baileys/issues/1761#issuecomment-3282497938)
2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Baileys**: [baileys.wiki/docs/socket/connecting](https://baileys.wiki/docs/socket/connecting/)
3. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: http://46.149.70.219:3000/whatsapp-pairing.html
4. **API Endpoint**: `/api/whatsapp/sessions/{companyId}/pairing-code`

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- **–í—Ä–µ–º—è –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ**: 4 —á–∞—Å–∞
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫**: 12
- **–§–∏–Ω–∞–ª—å–Ω—ã–π —É—Å–ø–µ—Ö**: 100%
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ 5+ —Ä–∞–∑ –ø–æ–¥—Ä—è–¥

---

## üéØ –í—ã–≤–æ–¥—ã

1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏–º–µ–Ω –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—é
2. **Timing –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ** - pairing code –º–æ–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è QR
3. **–§–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å—Ç—Ä–æ–≥–∏–π** - E.164 –±–µ–∑ –ø–ª—é—Å–∞
4. **–°–æ–æ–±—â–µ—Å—Ç–≤–æ Baileys –∞–∫—Ç–∏–≤–Ω–æ** - —Ä–µ—à–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ –≤ issues –Ω–∞ GitHub

---

## üöÄ –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. ‚è∞ –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
2. üìä –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
3. üîÑ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
4. üì± –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤

---

**–ê–≤—Ç–æ—Ä**: AI Admin Team
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ**: 20.09.2025 –≤ production
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ production