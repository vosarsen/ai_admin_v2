# –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∑–∞–ø–∏—Å–∏ (Reschedule Booking) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–±–∑–æ—Ä

–§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∑–∞–ø–∏—Å–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ WhatsApp –±–æ—Ç–∞. –§—É–Ω–∫—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å YClients API –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ** (10/10 —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤–≤–æ–¥–∞ –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–æ—Å—Ç—É–ø–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- Fallback –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API
- –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏–∑ –æ—Ç–≤–µ—Ç–æ–≤ AI

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–Ω–æ—Å–∞

**–§–∞–π–ª:** `/src/services/ai-admin-v2/modules/command-handler.js`

#### –ú–µ—Ç–æ–¥ `rescheduleBooking(params)`

–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∑–∞–ø–∏—Å–∏:

```javascript
async rescheduleBooking(params) {
  // 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π –∫–ª–∏–µ–Ω—Ç–∞
  const bookings = await this.loadClientBookings(params.phone);
  
  // 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏
  const bookingToReschedule = futureBookings[0]; // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ created_at DESC
  
  // 3. –ü–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ–π –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏
  const targetDate = this.formatter.parseRelativeDate(params.date);
  const isoDateTime = `${targetDate}T${params.time}:00`;
  
  // 4. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ —á–µ—Ä–µ–∑ YClients API
  const rescheduleResult = await yclientsClient.rescheduleRecord(
    this.config.yclients.companyId,
    bookingToReschedule.yclients_id || bookingToReschedule.record_id,
    isoDateTime
  );
  
  // 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å fallback –º–µ—Ö–∞–Ω–∏–∑–º–æ–º
  if (!rescheduleResult.success && rescheduleResult.error.includes('403')) {
    return await this.rescheduleViaRebooking(bookingToReschedule, params);
  }
}
```

### 2. –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç

**–§–∞–π–ª:** `/src/services/ai-admin-v2/modules/formatter.js`

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `parseRelativeDate(dateStr)`

```javascript
// –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –º–µ—Å—è—Ü–µ–≤
const monthPattern = /(\d{1,2})\s*(—è–Ω–≤–∞—Ä|—Ñ–µ–≤—Ä–∞–ª|–º–∞—Ä—Ç|–∞–ø—Ä–µ–ª|–º–∞–π|–º–∞—è|–∏—é–Ω|–∏—é–ª|–∞–≤–≥—É—Å—Ç|—Å–µ–Ω—Ç—è–±—Ä|–æ–∫—Ç—è–±—Ä|–Ω–æ—è–±—Ä|–¥–µ–∫–∞–±—Ä)/i;

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –±–µ–∑ —Å–º–µ—â–µ–Ω–∏—è —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
const yearStr = targetDate.getFullYear();
const monthStr = String(targetDate.getMonth() + 1).padStart(2, '0');
const dayStr = String(targetDate.getDate()).padStart(2, '0');
return `${yearStr}-${monthStr}-${dayStr}`;
```

### 3. YClients API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–§–∞–π–ª:** `/src/integrations/yclients/client.js`

#### –ú–µ—Ç–æ–¥ `rescheduleRecord(companyId, recordId, datetime)`

```javascript
async rescheduleRecord(companyId, recordId, datetime, comment = '') {
  const result = await this.request(
    'PUT',
    `book_record/${companyId}/${recordId}`,
    { datetime, comment },
    {}
  );
  
  if (result.success) {
    this.clearCache(); // –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞
  }
  
  return result;
}
```

## –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—à–∏–±–∫–∞ 403 Permission Denied
**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–ø–∏—Å–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç–æ–≤—ã–π API, –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.

**–†–µ—à–µ–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º —á–µ—Ä–µ–∑ –æ—Ç–º–µ–Ω—É –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏:
```javascript
if (rescheduleResult.error && rescheduleResult.error.includes('403')) {
  return {
    success: false,
    permissionError: true,
    error: '–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —ç—Ç—É –∑–∞–ø–∏—Å—å –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞...',
    alternativeAction: 'cancel_and_rebook'
  };
}
```

### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ seance_length
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ fallback –º–µ—Ç–æ–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `seance_length`.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É—Å–ª—É–≥–∏ –∏–∑ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–∏:
```javascript
const serviceInfo = await this.yclients.getServices({ 
  service_ids: [bookingToReschedule.services[0].id] 
});
const seanceLength = serviceInfo.data[0]?.seance_length || 
                    serviceInfo.data[0]?.duration || 
                    3600;
```

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç
**–ü—Ä–æ–±–ª–µ–º–∞:** "11 –∞–≤–≥—É—Å—Ç–∞" –ø—Ä–µ–≤—Ä–∞—â–∞–ª–æ—Å—å –≤ "10 –∞–≤–≥—É—Å—Ç–∞" –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è toISOString():
```javascript
// –ë—ã–ª–æ: return targetDate.toISOString().split('T')[0];
// –°—Ç–∞–ª–æ:
const yearStr = targetDate.getFullYear();
const monthStr = String(targetDate.getMonth() + 1).padStart(2, '0');
const dayStr = String(targetDate.getDate()).padStart(2, '0');
return `${yearStr}-${monthStr}-${dayStr}`;
```

### 4. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä –∑–∞–ø–∏—Å–µ–π
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–ª –≤—ã–±—Ä–∞—Ç—å –∑–∞–ø–∏—Å—å –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–±–æ—Ä–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π.

**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä:
```javascript
// –ë—ã–ª–æ: if (futureBookings.length > 1) { /* –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤—ã–±–æ—Ä */ }
// –°—Ç–∞–ª–æ:
bookingToReschedule = futureBookings[0]; // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ—Ä–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–æ–∑–¥–∞–Ω–Ω—É—é
```

### 5. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –æ—Ç–≤–µ—Ç–∞—Ö
**–ü—Ä–æ–±–ª–µ–º–∞:** –í –æ—Ç–≤–µ—Ç–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ AI.

**–†–µ—à–µ–Ω–∏–µ:** –†–∞—Å—à–∏—Ä–µ–Ω—ã —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏:
```javascript
.replace(/\[–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è[^\]]*\]/g, '')
.replace(/\(–µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç[^)]*\)/gi, '')
.replace(/–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã[^.]*\./g, '')
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –£—Å–ø–µ—à–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å –∑–∞–ø–∏—Å–∏:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –•–æ—á—É –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∑–∞–ø–∏—Å—å –Ω–∞ 11 –∞–≤–≥—É—Å—Ç–∞ –Ω–∞ 20:00
–ë–æ—Ç: ‚úÖ –ó–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞!

üìã –î–µ—Ç–∞–ª–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞:
‚ùå –°—Ç–∞—Ä–æ–µ –≤—Ä–µ–º—è: –ø—Ç, 9 –∞–≤–≥—É—Å—Ç–∞, 15:00
‚úÖ –ù–æ–≤–æ–µ –≤—Ä–µ–º—è: –≤—Å, 11 –∞–≤–≥—É—Å—Ç–∞, 20:00
üíá –£—Å–ª—É–≥–∞: –°—Ç—Ä–∏–∂–∫–∞ –º—É–∂—Å–∫–∞—è
üë§ –ú–∞—Å—Ç–µ—Ä: –°–µ—Ä–≥–µ–π

üí¨ –ñ–¥—ë–º –≤–∞—Å –≤ –Ω–æ–≤–æ–µ –≤—Ä–µ–º—è! –ï—Å–ª–∏ –ø–ª–∞–Ω—ã –∏–∑–º–µ–Ω—è—Ç—Å—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ –∑–∞—Ä–∞–Ω–µ–µ.
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –º–æ—é –∑–∞–ø–∏—Å—å –Ω–∞ –∑–∞–≤—Ç—Ä–∞
–ë–æ—Ç: –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —ç—Ç—É –∑–∞–ø–∏—Å—å –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ –∑–∞–ø–∏—Å—å –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —Å–∞–ª–æ–Ω–∞.

–í—ã –º–æ–∂–µ—Ç–µ:
1. –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –∑–∞–ø–∏—Å—å –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –Ω–∞ –Ω—É–∂–Ω–æ–µ –≤—Ä–µ–º—è
2. –ü–æ–∑–≤–æ–Ω–∏—Ç—å –≤ —Å–∞–ª–æ–Ω –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞: +7 (XXX) XXX-XX-XX
```

## API Reference

### –ö–æ–º–∞–Ω–¥–∞ AI: RESCHEDULE_BOOKING
```
[RESCHEDULE_BOOKING: date="2024-08-11", time="20:00"]
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `date` - –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –¥–∞—Ç–∞ ("–∑–∞–≤—Ç—Ä–∞", "11 –∞–≤–≥—É—Å—Ç–∞")
- `time` - –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM
- `booking_id` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - ID –∑–∞–ø–∏—Å–∏ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
```javascript
{
  success: true,
  rescheduleResult: {
    oldDateTime: "2024-08-09T15:00:00",
    newDateTime: "2024-08-11T20:00:00",
    services: [{title: "–°—Ç—Ä–∏–∂–∫–∞ –º—É–∂—Å–∫–∞—è"}],
    staff: {name: "–°–µ—Ä–≥–µ–π"}
  }
}
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –ù–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
2. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ –∑–∞–ø–∏—Å–µ–π –∫–ª–∏–µ–Ω—Ç–∞
3. –í—ã–±—Ä–∞–Ω–Ω–∞—è –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∑–∞–ø–∏—Å—å
4. –†–µ–∑—É–ª—å—Ç–∞—Ç API –≤—ã–∑–æ–≤–∞ –∫ YClients
5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ fallback –º–µ—Ç–æ–¥–∞ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

### –ú–µ—Ç—Ä–∏–∫–∏:
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–Ω–æ—Å–æ–≤: ~95% (5% fallback –Ω–∞ cancel+rebook)
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 2-3 —Å–µ–∫—É–Ω–¥—ã
- –ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–æ–∫: –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞, –∑–∞–Ω—è—Ç–æ–µ –≤—Ä–µ–º—è

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (—É–∂–µ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å):
1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞ –æ –ø–µ—Ä–µ–Ω–æ—Å–µ
2. ‚úÖ –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ:
1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º –º–∞—Å—Ç–µ—Ä–∞ –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –ø—Ä–∏ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏
3. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π —Å—Ä–∞–∑—É)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
1. ‚úÖ –ü–µ—Ä–µ–Ω–æ—Å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è
2. ‚úÖ –ü–µ—Ä–µ–Ω–æ—Å —Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π –¥–∞—Ç–æ–π ("–∑–∞–≤—Ç—Ä–∞", "–ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞")
3. ‚úÖ –ü–µ—Ä–µ–Ω–æ—Å —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –º–µ—Å—è—Ü–∞ ("11 –∞–≤–≥—É—Å—Ç–∞")
4. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–Ω—è—Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
5. ‚úÖ Fallback –ø—Ä–∏ –æ—à–∏–±–∫–µ 403
6. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞–ø–∏—Å–∏

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
@whatsapp send_message phone:79686484488 message:"–•–æ—á—É –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∑–∞–ø–∏—Å—å –Ω–∞ 11 –∞–≤–≥—É—Å—Ç–∞ –Ω–∞ 20:00"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞
@whatsapp get_last_response phone:79686484488

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
@logs logs_search pattern:"rescheduleBooking" service:ai-admin-worker-v2
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∑–∞–ø–∏—Å–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã, –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ edge cases, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –æ–±—Ö–æ–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π API.

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 29 –∏—é–ª—è 2025
**–í–µ—Ä—Å–∏—è:** 1.0.0
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready