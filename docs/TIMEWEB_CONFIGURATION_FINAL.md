# –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TimeWeb –¥–ª—è AI Admin v2

**–î–∞—Ç–∞:** 31 –æ–∫—Ç—è–±—Ä—è 2025
**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:** 1 –∫–ª–∏–µ–Ω—Ç (KULTURA), –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–æ—Å—Ç –¥–æ 50 –∫–æ–º–ø–∞–Ω–∏–π

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞

### 1. VPS (–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **CPU:** 4 vCPU
- **RAM:** 8 –ì–ë
- **–î–∏—Å–∫:** 50 –ì–ë SSD
- **–û–°:** Ubuntu 22.04 LTS

**–ß—Ç–æ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è:**
- Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (AI Admin v2)
- Redis 8.1 (–ª–æ–∫–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)
- WhatsApp (Baileys —Å–µ—Å—Å–∏–∏)
- Nginx (reverse proxy)
- Xray (VPN –¥–ª—è Gemini API)

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~3,000 ‚ÇΩ/–º–µ—Å

**–•–≤–∞—Ç–∏—Ç –Ω–∞:** 10-15 –∫–æ–º–ø–∞–Ω–∏–π

---

### 2. PostgreSQL 18 (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)

**–¢–∏–ø –ë–î –∏–∑ —Å–ø–∏—Å–∫–∞ TimeWeb:** ‚úÖ **PostgreSQL 18**

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **CPU:** 2 vCPU
- **RAM:** 4 –ì–ë
- **–î–∏—Å–∫:** 30 –ì–ë HDD (–º–æ–∂–Ω–æ SSD –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

**–ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è:**
- –¢–∞–±–ª–∏—Ü–∞ companies (–∫–æ–º–ø–∞–Ω–∏–∏/—Å–∞–ª–æ–Ω—ã)
- –¢–∞–±–ª–∏—Ü–∞ clients (–∫–ª–∏–µ–Ω—Ç—ã —Å–∞–ª–æ–Ω–æ–≤)
- –¢–∞–±–ª–∏—Ü–∞ bookings (–∑–∞–ø–∏—Å–∏)
- –¢–∞–±–ª–∏—Ü–∞ services (—É—Å–ª—É–≥–∏)
- –¢–∞–±–ª–∏—Ü–∞ staff (–º–∞—Å—Ç–µ—Ä–∞)
- –¢–∞–±–ª–∏—Ü–∞ schedules (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è)

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~1,500-1,800 ‚ÇΩ/–º–µ—Å

**–•–≤–∞—Ç–∏—Ç –Ω–∞:** 20-30 –∫–æ–º–ø–∞–Ω–∏–π (–æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö ~2-5 –ì–ë)

---

### 3. Redis 8.1

**–í–∞—Ä–∏–∞–Ω—Ç A: –ù–∞ VPS** ‚úÖ **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –¥–ª—è —Å—Ç–∞—Ä—Ç–∞**

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:** –õ–æ–∫–∞–ª—å–Ω–æ –Ω–∞ VPS –≤–º–µ—Å—Ç–µ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –û—á–µ—Ä–µ–¥–∏ BullMQ (whatsapp-messages, reminders)
- –ö—ç—à –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –¥–∏–∞–ª–æ–≥–æ–≤ (TTL: 24 —á–∞—Å–∞)
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:**
- RAM: ~50-100 –ú–ë (–¥–ª—è 1-10 –∫–æ–º–ø–∞–Ω–∏–π)
- CPU: –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** 0 ‚ÇΩ (–≤—Ö–æ–¥–∏—Ç –≤ VPS)

---

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –û—Ç–¥–µ–ª—å–Ω—ã–π managed Redis** (–¥–ª—è —Ä–æ—Å—Ç–∞)

**–¢–∏–ø –ë–î –∏–∑ —Å–ø–∏—Å–∫–∞ TimeWeb:** ‚úÖ **Redis 8.1**

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **RAM:** 1-2 –ì–ë
- **–î–∏—Å–∫:** 10 –ì–ë

**–ö–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å:**
- –ü—Ä–∏ 15+ –∫–æ–º–ø–∞–Ω–∏—è—Ö
- –ö–æ–≥–¥–∞ Redis –Ω–∞ VPS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç > 500 –ú–ë RAM
- –î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~500-800 ‚ÇΩ/–º–µ—Å

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°—Ç–∞—Ä—Ç (1-15 –∫–æ–º–ø–∞–Ω–∏–π)

```
VPS 4/8/50 (—Å Redis –≤–Ω—É—Ç—Ä–∏):  3,000 ‚ÇΩ/–º–µ—Å
PostgreSQL 2/4/30:             1,800 ‚ÇΩ/–º–µ—Å
                              ___________
–ò–¢–û–ì–û:                         4,800 ‚ÇΩ/–º–µ—Å
```

**–•–≤–∞—Ç–∏—Ç –Ω–∞:** 10-15 –∫–æ–º–ø–∞–Ω–∏–π

**–≠–∫–æ–Ω–æ–º–∏—è vs —Ç–µ–∫—É—â–∞—è (8,265 ‚ÇΩ):** **3,465 ‚ÇΩ/–º–µ—Å** = **41,580 ‚ÇΩ/–≥–æ–¥** üéâ

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†–æ—Å—Ç (15-30 –∫–æ–º–ø–∞–Ω–∏–π)

```
VPS 4/8/50:                    3,000 ‚ÇΩ/–º–µ—Å
PostgreSQL 4/8/80:             3,255 ‚ÇΩ/–º–µ—Å
Redis 1GB (–æ—Ç–¥–µ–ª—å–Ω–æ):            600 ‚ÇΩ/–º–µ—Å
                              ___________
–ò–¢–û–ì–û:                         6,855 ‚ÇΩ/–º–µ—Å
```

**–•–≤–∞—Ç–∏—Ç –Ω–∞:** 20-30 –∫–æ–º–ø–∞–Ω–∏–π

**–≠–∫–æ–Ω–æ–º–∏—è vs —Ç–µ–∫—É—â–∞—è:** **1,410 ‚ÇΩ/–º–µ—Å**

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (30-50 –∫–æ–º–ø–∞–Ω–∏–π)

```
VPS 6/16/100:                  5,500 ‚ÇΩ/–º–µ—Å
PostgreSQL 8/16/220:           7,170 ‚ÇΩ/–º–µ—Å
Redis 2GB:                       800 ‚ÇΩ/–º–µ—Å
                              ___________
–ò–¢–û–ì–û:                        13,470 ‚ÇΩ/–º–µ—Å
```

**–•–≤–∞—Ç–∏—Ç –Ω–∞:** 50+ –∫–æ–º–ø–∞–Ω–∏–π

---

## üóÇÔ∏è –ö–∞–∫–∏–µ –ë–î –∑–∞–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ TimeWeb

–ò–∑ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞:

### ‚úÖ –ó–∞–∫–∞–∑—ã–≤–∞–µ–º –°–ï–ô–ß–ê–°:

1. **PostgreSQL 18**
   - –í–µ—Ä—Å–∏—è: 18 (–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è)
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 2 vCPU, 4 –ì–ë RAM, 30 –ì–ë
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û—Å–Ω–æ–≤–Ω–∞—è –ë–î

### ‚è∏Ô∏è –ó–∞–∫–∞–∑—ã–≤–∞–µ–º –ü–û–ó–ñ–ï (–ø—Ä–∏ —Ä–æ—Å—Ç–µ):

2. **Redis 8.1**
   - –í–µ—Ä—Å–∏—è: 8.1 (–ø–æ—Å–ª–µ–¥–Ω—è—è)
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 1 –ì–ë RAM, 10 –ì–ë
   - –ö–æ–≥–¥–∞: –ü—Ä–∏ 15+ –∫–æ–º–ø–∞–Ω–∏—è—Ö

### ‚ùå –ù–ï –Ω—É–∂–Ω—ã:

- ‚ùå **MySQL 8.4** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL, –Ω–µ –Ω—É–∂–Ω–∞
- ‚ùå **MongoDB 8.0** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ
- ‚ùå **ClickHouse 25.1.6** - –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –Ω—É–∂–Ω–∞
- ‚ùå **OpenSearch 2.19.1** - –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞, –Ω–µ –Ω—É–∂–Ω–∞
- ‚ùå **RabbitMQ 4.0** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è BullMQ (Redis-based), –Ω–µ –Ω—É–∂–Ω–∞
- ‚ùå **Kafka 3.5.1** - –¥–ª—è event streaming, –Ω–µ –Ω—É–∂–Ω–∞

---

## üöÄ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: –ó–∞–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É

**–ù–∞ TimeWeb –∑–∞–∫–∞–∑–∞—Ç—å:**

1. **VPS:**
   - –¢–∞—Ä–∏—Ñ: Cloud VPS-4 (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥)
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: 4 vCPU, 8 –ì–ë RAM, 50 –ì–ë SSD
   - –û–°: Ubuntu 22.04 LTS
   - –°—Ç–æ–∏–º–æ—Å—Ç—å: ~3,000 ‚ÇΩ/–º–µ—Å

2. **PostgreSQL (managed):**
   - –¢–∏–ø: PostgreSQL 18
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: 2 vCPU, 4 –ì–ë RAM, 30 –ì–ë HDD
   - –°—Ç–æ–∏–º–æ—Å—Ç—å: ~1,800 ‚ÇΩ/–º–µ—Å

**Redis:** –ü–æ–∫–∞ –ù–ï –∑–∞–∫–∞–∑—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ (–±—É–¥–µ—Ç –Ω–∞ VPS)

---

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å VPS

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ VPS
ssh root@<IP_–∞–¥—Ä–µ—Å>

# 2. –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
apt update && apt upgrade -y

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js 20.x
curl -fsSL https://deb.nodesource.com/setup_20.x | bash -
apt install -y nodejs

# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis –ª–æ–∫–∞–ª—å–Ω–æ
apt install -y redis-server
systemctl enable redis-server
systemctl start redis-server

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PM2
npm install -g pm2

# 6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Nginx
apt install -y nginx
systemctl enable nginx

# 7. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Xray (–¥–ª—è VPN –¥–ª—è Gemini)
bash -c "$(curl -L https://github.com/XTLS/Xray-install/raw/main/install-release.sh)" @ install

# 8. –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p /opt/ai-admin
cd /opt/ai-admin
```

---

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL

**–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ—Ç TimeWeb:**
```
Host: <managed_postgres_host>
Port: 5432
Database: ai_admin_v2
Username: <username>
Password: <password>
```

**–û–±–Ω–æ–≤–∏—Ç—å .env:**
```bash
# –ó–∞–º–µ–Ω–∏—Ç—å Supabase –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π PostgreSQL
SUPABASE_URL=postgresql://<username>:<password>@<host>:5432/ai_admin_v2
SUPABASE_KEY=  # –ù–µ –Ω—É–∂–µ–Ω –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

---

### –®–∞–≥ 4: –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å Supabase

**A. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ Supabase:**

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –∏–ª–∏ —á–µ—Ä–µ–∑ Supabase Dashboard
# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤ SQL
# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pg_dump –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø
```

**–ë. –ò–º–ø–æ—Ä—Ç –≤ –Ω–æ–≤—ã–π PostgreSQL:**

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –Ω–æ–≤–æ–π –ë–î
psql -h <host> -U <username> -d ai_admin_v2

# –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
\i schema.sql

# –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
\i data.sql
```

**–í. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:**

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã
\dt

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
SELECT COUNT(*) FROM companies;
SELECT COUNT(*) FROM clients;
SELECT COUNT(*) FROM bookings;
```

---

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis –Ω–∞ VPS

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Redis:**

```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
nano /etc/redis/redis.conf

# –í–∞–∂–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
# bind 127.0.0.1  (—Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø)
# maxmemory 256mb  (–ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏)
# maxmemory-policy allkeys-lru  (–ø–æ–ª–∏—Ç–∏–∫–∞ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è)

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Redis
systemctl restart redis-server

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status redis-server
redis-cli ping  # –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å PONG
```

**–û–±–Ω–æ–≤–∏—Ç—å .env:**
```bash
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=  # –û—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ
```

---

### –®–∞–≥ 6: –î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
cd /opt/ai-admin
git clone <your-repo-url> .

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install --production

# 3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å .env
cp .env.example .env
nano .env  # –ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å PM2
pm2 start ecosystem.config.js
pm2 save
pm2 startup

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs
```

---

### –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx

```bash
# –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
nano /etc/nginx/sites-available/ai-admin

# –°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
server {
    listen 80;
    server_name <your-domain-or-ip>;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
ln -s /etc/nginx/sites-available/ai-admin /etc/nginx/sites-enabled/
nginx -t
systemctl reload nginx
```

---

### –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

**A. WhatsApp –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Å—Å–∏—é Baileys
ls -la /opt/ai-admin/baileys_sessions/

# –ï—Å–ª–∏ –Ω–µ—Ç - –∑–∞–ø—É—Å—Ç–∏—Ç—å pairing code
# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∞–º–æ –ø–æ–ø—Ä–æ—Å–∏—Ç –∫–æ–¥ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
pm2 logs
```

**–ë. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:**
```bash
# –ß–µ—Ä–µ–∑ MCP –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ WhatsApp
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ +79936363848 —Å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞
```

**–í. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
```bash
pm2 logs ai-admin-worker-v2 --lines 100
```

**–ì. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î:**
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL
psql -h <host> -U <username> -d ai_admin_v2

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏
SELECT * FROM bookings ORDER BY created_at DESC LIMIT 5;
```

**–î. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis:**
```bash
redis-cli
> KEYS *
> GET context:79936363848  # –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

### –ß—Ç–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å:

**VPS:**
```bash
# CPU –∏ RAM
htop

# –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
df -h

# –°–µ—Ç–µ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
nethogs

# PM2 –ø—Ä–æ—Ü–µ—Å—Å—ã
pm2 monit
```

**PostgreSQL:**
```sql
-- –†–∞–∑–º–µ—Ä –ë–î
SELECT pg_size_pretty(pg_database_size('ai_admin_v2'));

-- Slow queries
SELECT * FROM pg_stat_statements ORDER BY mean_exec_time DESC LIMIT 10;

-- –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
SELECT count(*) FROM pg_stat_activity;
```

**Redis:**
```bash
redis-cli INFO memory
redis-cli INFO stats
```

---

## üéØ –ö–æ–≥–¥–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å

### VPS - –∞–ø–≥—Ä–µ–π–¥ —Å 4/8 –¥–æ 6/12:

- ‚ö†Ô∏è CPU —Å—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞ > 60%
- ‚ö†Ô∏è RAM –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ > 70%
- ‚ö†Ô∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–π > 10

### PostgreSQL - –∞–ø–≥—Ä–µ–π–¥ —Å 2/4 –¥–æ 4/8:

- ‚ö†Ô∏è –†–∞–∑–º–µ—Ä –ë–î > 20 –ì–ë
- ‚ö†Ô∏è Slow queries —Ä–µ–≥—É–ª—è—Ä–Ω–æ
- ‚ö†Ô∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–π > 15

### Redis - –≤—ã–Ω–µ—Å—Ç–∏ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:

- ‚ö†Ô∏è Redis –∏—Å–ø–æ–ª—å–∑—É–µ—Ç > 500 –ú–ë RAM –Ω–∞ VPS
- ‚ö†Ô∏è Eviction rate —Ä–∞—Å—Ç–µ—Ç
- ‚ö†Ô∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–π > 15

---

## üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### PostgreSQL (managed –Ω–∞ TimeWeb):

```bash
# TimeWeb –æ–±—ã—á–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ - —Ä—É—á–Ω–æ–π backup —Ä–∞–∑ –≤ –¥–µ–Ω—å:

pg_dump -h <host> -U <username> -d ai_admin_v2 > backup_$(date +%Y%m%d).sql

# –•—Ä–∞–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
# –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å cron job
```

### Redis:

```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å RDB snapshots –≤ redis.conf
save 900 1      # –°–æ—Ö—Ä–∞–Ω—è—Ç—å –µ—Å–ª–∏ 1+ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞ 15 –º–∏–Ω—É—Ç
save 300 10     # –°–æ—Ö—Ä–∞–Ω—è—Ç—å –µ—Å–ª–∏ 10+ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞ 5 –º–∏–Ω—É—Ç
save 60 10000   # –°–æ—Ö—Ä–∞–Ω—è—Ç—å –µ—Å–ª–∏ 10000+ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞ 1 –º–∏–Ω—É—Ç—É

# –§–∞–π–ª: /var/lib/redis/dump.rdb
# –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
cp /var/lib/redis/dump.rdb /backup/redis_$(date +%Y%m%d).rdb
```

### Baileys —Å–µ—Å—Å–∏–∏ WhatsApp:

```bash
# –ë—ç–∫–∞–ø —Å–µ—Å—Å–∏–π WhatsApp
tar -czf baileys_sessions_$(date +%Y%m%d).tar.gz /opt/ai-admin/baileys_sessions/

# –•—Ä–∞–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é —Ä–∞–±–æ—á—É—é —Å–µ—Å—Å–∏—é –æ—Ç–¥–µ–ª—å–Ω–æ
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### PostgreSQL:

- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Å IP VPS (whitelist)
- ‚úÖ –°–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å
- ‚úÖ SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è TimeWeb)

### Redis –Ω–∞ VPS:

- ‚úÖ Bind —Ç–æ–ª—å–∫–æ –Ω–∞ localhost (127.0.0.1)
- ‚úÖ –ù–µ —Å–ª—É—à–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –ü–∞—Ä–æ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

### VPS:

- ‚úÖ SSH –∫–ª—é—á–∏ (–æ—Ç–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–æ–ª—å)
- ‚úÖ Firewall (UFW):
  ```bash
  ufw allow 22      # SSH
  ufw allow 80      # HTTP
  ufw allow 443     # HTTPS (–µ—Å–ª–∏ SSL)
  ufw enable
  ```
- ‚úÖ Fail2ban –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç brute-force
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

- [ ] –ó–∞–∫–∞–∑–∞—Ç—å VPS 4/8/50 –Ω–∞ TimeWeb
- [ ] –ó–∞–∫–∞–∑–∞—Ç—å PostgreSQL 18 (2/4/30) –Ω–∞ TimeWeb
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å VPS (Node.js, Redis, PM2, Nginx, Xray)
- [ ] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Supabase
- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –Ω–æ–≤—ã–π PostgreSQL
- [ ] –û–±–Ω–æ–≤–∏—Ç—å .env (SUPABASE_URL, REDIS_URL)
- [ ] –î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –Ω–æ–≤—ã–π VPS
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx
- [ ] –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å WhatsApp (Baileys pairing code)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
  - [ ] –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å AI –æ—Ç–≤–µ—Ç—ã
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (PM2, PostgreSQL, Redis)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (UFW, SSH keys)
- [ ] –û—Ç–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Å–µ—Ä–≤–µ—Ä (–ø–æ—Å–ª–µ 1-2 –Ω–µ–¥–µ–ª—å —É—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã)

---

## üí∞ –ò—Ç–æ–≥–æ–≤–∞—è —ç–∫–æ–Ω–æ–º–∏—è

```
–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:           8,265 ‚ÇΩ/–º–µ—Å
–ù–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:             4,800 ‚ÇΩ/–º–µ—Å
                               ___________
–≠–∫–æ–Ω–æ–º–∏—è:                       3,465 ‚ÇΩ/–º–µ—Å

–ó–∞ –≥–æ–¥:                        41,580 ‚ÇΩ üéâ
```

**–ü—Ä–∏ —ç—Ç–æ–º:**
- ‚úÖ –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–Ω–µ Supabase)
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ë–î
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –•–≤–∞—Ç–∏—Ç –Ω–∞ 10-15 –∫–æ–º–ø–∞–Ω–∏–π –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–∫–∞–∑–∞—Ç—å VPS –∏ PostgreSQL –Ω–∞ TimeWeb –∏ –Ω–∞—á–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é! üöÄ
